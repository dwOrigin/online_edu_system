(function(){var e={48:function(e,t,s){"use strict";var a=s(538),i=function(){var e=this,t=e._self._c;return t("div",{attrs:{id:"app"}},[e.isRouterAlive?t("router-view"):e._e()],1)},r=[],o={name:"App",components:{},provide(){return{reload:this.reload}},data(){return{isRouterAlive:!0}},methods:{reload(){this.isRouterAlive=!1,this.$nextTick((function(){this.isRouterAlive=!0}))}}},l=o,n=s(3736),c=(0,n.Z)(l,i,r,!1,null,null,null),u=c.exports,d=s(9669),m=s.n(d);const h=m().create({baseURL:"http://120.46.178.233:8081",timeout:5e3});h.interceptors.request.use((e=>(e.headers["Content-Type"]="application/json;charset=utf-8",e)),(e=>Promise.reject(e))),h.interceptors.response.use((e=>{let t=e.data;return"blob"===e.config.responseType||"string"===typeof t&&(t=t?JSON.parse(t):t),t}),(e=>(console.log("err"+e),Promise.reject(e))));var p=h,g=s(8345),f=function(){var e=this,t=e._self._c;return t("div",{ref:"div",staticClass:"fixWindow",on:{scroll:e.scrollBottom}},[t("navigation"),t("HomeMain"),t("home-footer")],1)},v=[],b=function(){var e=this,t=e._self._c;return t("div",{staticClass:"nav"},[t("div",{staticClass:"nav-content"},[t("div",{staticClass:"left-content"},[t("nav-left")],1),t("div",{staticClass:"right-content"},[t("nav-right")],1)])])},y=[],C=function(){var e=this,t=e._self._c;return t("div",{staticClass:"left-nav-box"},[t("h2",{staticClass:"hoverC",staticStyle:{color:"teal"},on:{click:function(t){return e.$router.push({name:"recommend"})}}},[e._v("在线教育系统")]),t("div",{staticClass:"category-dropdown"},[e._m(0),t("div",{staticClass:"dropdown-content"},[t("span",{staticClass:"first-category"},[e._v("IT技术")]),t("div",{staticClass:"category-list"},e._l(e.tagList.it,(function(s){return t("div",{staticClass:"item"},[t("el-button",{attrs:{round:"",size:"small"},on:{click:function(t){return e.handleClickTag(s)}}},[e._v(e._s(s.title))])],1)})),0),t("span",{staticClass:"first-category"},[e._v("考试")]),t("div",{staticClass:"category-list"},e._l(e.tagList.exam,(function(s){return t("div",{staticClass:"item"},[t("el-button",{attrs:{round:"",size:"small"},on:{click:function(t){return e.handleClickTag(s)}}},[e._v(e._s(s.title))])],1)})),0),t("span",{staticClass:"first-category"},[e._v("职业技能")]),t("div",{staticClass:"category-list"},e._l(e.tagList.skill,(function(s){return t("div",{staticClass:"item"},[t("el-button",{attrs:{round:"",size:"small"},on:{click:function(t){return e.handleClickTag(s)}}},[e._v(e._s(s.title))])],1)})),0),t("span",{staticClass:"first-category"},[e._v("兴趣生活")]),t("div",{staticClass:"category-list"},e._l(e.tagList.hobby,(function(s){return t("div",{staticClass:"item"},[t("el-button",{attrs:{round:"",size:"small"},on:{click:function(t){return e.handleClickTag(s)}}},[e._v(e._s(s.title))])],1)})),0)])]),t("el-input",{staticClass:"input-with-select",attrs:{placeholder:"请输入搜索内容"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.handleSearch.apply(null,arguments)}},model:{value:e.searchKey,callback:function(t){e.searchKey=t},expression:"searchKey"}},[t("el-button",{staticClass:"search-button",attrs:{slot:"suffix",type:"primary"},on:{click:e.handleSearch},slot:"suffix"},[e._v("搜索 ")])],1)],1)},_=[function(){var e=this,t=e._self._c;return t("div",[e._v("分类"),t("i",{staticClass:"el-icon-tickets el-icon--right"})])}],$={name:"NavLeft",data(){return{select:"",searchKey:"",tagList:{it:[{title:"大数据与人工智能"},{title:"计算机基础与应用"},{title:"软件工程"},{title:"计算机语言基础"},{title:"硬件系统与原理"},{title:"网络技术"}],exam:[{title:"四六级"},{title:"考研"},{title:"期末突击"},{title:"专升本"},{title:"考编"}],skill:[{title:"经济管理"},{title:"文史哲法"},{title:"医学与保健"},{title:"教育教学"}],hobby:[{title:"音乐与艺术"},{title:"有声课堂"},{title:"世界文化"}]}}},methods:{handleClickTag(e){this.select=e.title,this.searchKey="",this.handleSearch()},handleSearch(){""===this.select&&""===this.searchKey||(this.$router.push({name:"search",params:{select:this.select||void 0,searchKey:this.searchKey||void 0}}),this.$bus.$emit("searchInputChanged",this.select,this.searchKey),this.searchKey="",this.select="")}}},w=$,x=(0,n.Z)(w,C,_,!1,null,"95def992",null),k=x.exports,S=function(){var e=this,t=e._self._c;return t("div",[t("ul",{staticClass:"tag-list"},[e._l(e.tagObjList,(function(s){return t("li",{key:s.title},[t("el-link",{staticClass:"tag-item",attrs:{underline:!1},on:{click:function(t){return e.$router.push({name:s.routerName,params:s.paramsM,query:s.query})}}},[e._v(e._s(s.title))])],1)})),t("el-link",{staticClass:"tag-item",attrs:{underline:!1},on:{click:function(t){return e.$router.push({name:"personal",query:{select:""}})}}},[e._v("个人中心")]),null==e.user?t("el-link",{staticClass:"tag-item",attrs:{underline:!1},on:{click:function(t){return e.$bus.$emit("OpenLoginDialog")}}},[e._v("登录|注册")]):e._e(),null!=e.user?t("el-dropdown",{on:{command:e.exit}},[t("el-avatar",{attrs:{size:40,src:e.user.picImg}},[null==e.user.picImg||""==e.user.picImg?t("span",[e._v(" "+e._s(e.user.userName)+" ")]):e._e()]),t("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},[t("el-dropdown-item",{attrs:{icon:"el-icon-back"}},[e._v("退出登录")])],1)],1):e._e()],2)])},I=[],P={name:"NavRight",data(){return{tagObjList:[{title:"文章",routerName:"qap",paramsM:{select:"p"}},{title:"问答",routerName:"qap",paramsM:{select:"q"}},{title:"讲师",routerName:"teacher",query:{}}],user:null}},methods:{refreshAuthorization(){let e=window.localStorage.getItem("user");null!=e?(e=JSON.parse(e),this.user=e):this.user=null},exit(){window.localStorage.removeItem("user"),this.$bus.$emit("AuthorizationChanged"),this.$router.push("/home/recommend")}},mounted(){this.refreshAuthorization(),this.$bus.$on("AuthorizationChanged",(()=>{this.refreshAuthorization()}))},beforeDestroy(){this.$bus.$off("AuthorizationChanged")}},T=P,z=(0,n.Z)(T,S,I,!1,null,"4055b07a",null),N=z.exports,q={name:"Navigation",components:{NavLeft:k,NavRight:N}},L=q,A=(0,n.Z)(L,b,y,!1,null,"689d0c6f",null),O=A.exports,F=function(){var e=this,t=e._self._c;return t("div",{attrs:{id:"main"}},[t("router-view"),t("login-dialog")],1)},U=[],D=function(){var e=this,t=e._self._c;return t("el-dialog",{staticClass:"dialog",attrs:{visible:e.isVisible,"append-to-body":"","modal-append-to-body":"","close-on-click-modal":!1,"show-close":!1,center:!0,"before-close":e.beforeClose,top:"10vh",width:"400px"},on:{"update:visible":function(t){e.isVisible=t}}},[t("span",[t("el-tabs",{model:{value:e.active,callback:function(t){e.active=t},expression:"active"}},[t("el-tab-pane",{attrs:{name:"logIn"}},[t("span",{attrs:{slot:"label"},slot:"label"},[t("span",{staticClass:"tag"},[e._v("登录")])]),t("el-form",{ref:"loginForm",staticClass:"form",attrs:{"status-icon":"",rules:e.RulesL,model:e.loginForm}},[t("el-form-item",{attrs:{prop:"username"}},[t("el-input",{staticClass:"inputBox",attrs:{"prefix-icon":"el-icon-user",placeholder:"用户名"},model:{value:e.loginForm.username,callback:function(t){e.$set(e.loginForm,"username",t)},expression:"loginForm.username"}})],1),t("el-form-item",{attrs:{prop:"password"}},[t("el-input",{staticClass:"inputBox",attrs:{"show-password":"","prefix-icon":"el-icon-lock",placeholder:"密码"},model:{value:e.loginForm.password,callback:function(t){e.$set(e.loginForm,"password",t)},expression:"loginForm.password"}})],1)],1),t("div",{staticStyle:{display:"flex","justify-content":"center","margin-top":"20px"}},[t("el-button",{staticClass:"footer-btn",attrs:{type:"primary",disabled:e.lockLogin,plain:"",size:"medium",round:""},on:{click:function(t){return e.handleFooterClick("login")}}},[t("span",{staticClass:"btn-content"},[e._v("登  录")])]),t("el-button",{staticClass:"footer-btn",attrs:{round:"",size:"medium"},on:{click:function(t){return e.handleFooterClick("cancel")}}},[t("span",{staticClass:"btn-content"},[e._v("取  消")])])],1)],1),t("el-tab-pane",{attrs:{name:"register"}},[t("span",{attrs:{slot:"label"},slot:"label"},[t("span",{staticClass:"tag"},[e._v("注册")])]),t("el-form",{ref:"registerForm",staticClass:"form",attrs:{"status-icon":"",rules:e.RulesR,model:e.registerForm}},[t("el-form-item",{attrs:{prop:"username"}},[t("el-input",{staticClass:"inputBox",attrs:{"prefix-icon":"el-icon-user",placeholder:"请输入用户名"},model:{value:e.registerForm.username,callback:function(t){e.$set(e.registerForm,"username",t)},expression:"registerForm.username"}})],1),t("el-form-item",{attrs:{prop:"password"}},[t("el-input",{staticClass:"inputBox",attrs:{"show-password":"","prefix-icon":"el-icon-lock",placeholder:"请输入密码"},model:{value:e.registerForm.password,callback:function(t){e.$set(e.registerForm,"password",t)},expression:"registerForm.password"}})],1),t("el-form-item",{attrs:{prop:"passwordR"}},[t("el-input",{staticClass:"inputBox",attrs:{"show-password":"","prefix-icon":"el-icon-lock",placeholder:"请再次输入密码"},model:{value:e.registerForm.passwordR,callback:function(t){e.$set(e.registerForm,"passwordR",t)},expression:"registerForm.passwordR"}})],1),t("el-form-item",{attrs:{prop:"phone"}},[t("el-input",{staticClass:"inputBox",attrs:{disabled:e.codeIsRight,"prefix-icon":"el-icon-phone-outline",placeholder:"手机号"},model:{value:e.registerForm.phone,callback:function(t){e.$set(e.registerForm,"phone",t)},expression:"registerForm.phone"}},[t("template",{slot:"append"},[t("i",{directives:[{name:"show",rawName:"v-show",value:0===e.sendCodeInterval,expression:"sendCodeInterval === 0"}],staticClass:"el-icon-s-promotion sendCode",staticStyle:{"font-size":"large"},on:{click:e.sendCode}}),t("span",{directives:[{name:"show",rawName:"v-show",value:0!==e.sendCodeInterval,expression:"sendCodeInterval !== 0"}]},[e._v(e._s(e.sendCodeInterval)+"S")])])],2)],1),t("el-form-item",{attrs:{prop:"code"}},[t("el-input",{staticClass:"inputBox",attrs:{placeholder:"验证码"},model:{value:e.registerForm.code,callback:function(t){e.$set(e.registerForm,"code",t)},expression:"registerForm.code"}},[t("template",{slot:"append"},[t("div",{directives:[{name:"show",rawName:"v-show",value:!e.codeIsRight,expression:"!codeIsRight"}],staticClass:"validateBtn",on:{click:e.validateCode}},[e._v("验证")]),t("div",{directives:[{name:"show",rawName:"v-show",value:e.codeIsRight,expression:"codeIsRight"}],staticStyle:{color:"palegreen"}},[e._v("验证成功")])])],2)],1),t("div",[t("el-button",{staticClass:"footer-btn",attrs:{type:"primary",plain:"",size:"medium",disabled:!e.codeIsRight,round:""},on:{click:function(t){return e.handleFooterClick("register")}}},[t("span",{staticClass:"btn-content"},[e._v("注  册")])]),t("el-button",{staticClass:"footer-btn",attrs:{plain:"",size:"medium",round:""},on:{click:function(t){return e.handleFooterClick("cancel")}}},[t("span",{staticClass:"btn-content"},[e._v("取  消")])])],1)],1)],1)],1)],1),t("Vcode",{attrs:{show:e.sliderVisible,puzzleScale:.7,canvasWidth:280,canvasHeight:150,sliderSize:30},on:{success:e.sliderSuccess}})],1)},R=[],M=(s(1703),s(39)),j=s.n(M),V={name:"LoginDialog",components:{Vcode:j()},data(){let e=(e,t,s)=>{null==t||0===t.length?s(new Error("请输入用户名")):s()},t=(e,t,s)=>{null==t||0===t.length?s(new Error("请输入密码")):s()},s=(e,t,s)=>{null===t||0===t.length?s(new Error("用户名不能为空")):/\w{8,}/.test(t)?s():s(new Error("用户名为8位及以上数字或英文"))},a=(e,t,s)=>{null===t||0===t.length?s(new Error("密码不能为空")):/.{8,}/.test(t)?s():s(new Error("密码至少8位"))},i=(e,t,s)=>{t!==this.registerForm.password?""===this.registerForm.password?s(new Error("请先输入密码")):s(new Error("两次密码不相同")):s()},r=(e,t,s)=>{null===t||0===t.length?s(new Error("请输入手机号")):/^1[3456789]\d{9}$/.test(t)?s():s("手机号格式错误")};return{lockLogin:!1,sliderVisible:!1,isVisible:!1,active:"logIn",loginForm:{username:"",password:""},sendCodeInterval:0,codeIsRight:!1,registerForm:{username:"",password:"",passwordR:"",phone:"",code:"",codeReceived:""},user:{userName:"",password:"",mobile:""},RulesL:{username:[{validator:e,trigger:"blur"}],password:[{validator:t,trigger:"blur"}]},RulesR:{username:[{validator:s,trigger:"blur"}],password:[{validator:a,trigger:"blur"}],passwordR:[{validator:i,trigger:"blur"}],phone:[{validator:r,trigger:"blur"}]}}},methods:{sliderSuccess(){this.isVisible=!0,this.sliderVisible=!1,this.lockLogin=!0,this.$refs["loginForm"].validate((e=>{if(!e)return!1;if("admin"==this.loginForm.username&&"admin"==this.loginForm.password)this.$message.success("管理员登录成功"),this.$router.push("/member_manage");else{let e=this.$axios({method:"get",url:"/user/login",params:{username:this.loginForm.username,password:this.loginForm.password}});e.then((e=>{let t=e.data;if("200"==t.code){let e=t.data;window.localStorage.setItem("user",JSON.stringify(e)),this.isVisible=!1,this.resetAllStatus(),this.$message.success(t.message),this.$bus.$emit("AuthorizationChanged")}else this.$message.error(t.message),this.lockLogin=!1})).catch((e=>{this.$message.error("网络连接失败"),this.lockLogin=!1}))}}))},sendCode(){let e=this.registerForm.phone;if(/^1[3456789]\d{9}$/.test(e)){let t=this.$axios({url:"/user/sendCode",method:"get",params:{mobile:e}});t.then((e=>{if(""==e.data)this.$message.error("验证码发送失败");else{this.registerForm.codeReceived=e.data,this.sendCodeInterval=60;let t=setInterval((()=>{this.sendCodeInterval--,0===this.sendCodeInterval&&clearInterval(t)}),1e3)}})).catch((e=>{this.$message.error("你的网络迷路了")}))}else this.$message.error("手机号格式错误")},validateCode(){this.registerForm.code==this.registerForm.codeReceived&&null!=this.registerForm.codeReceived?this.codeIsRight=!0:this.$message.error("验证码错误")},resetAllStatus(){setTimeout((()=>{this.sliderValue=0,this.$refs.loginForm.resetFields(),this.active="logIn",this.codeIsRight=!1,this.$refs.registerForm.resetFields()}),50)},beforeClose(e){this.resetAllStatus(),e()},handleFooterClick(e){"cancel"===e?(this.isVisible=!1,this.resetAllStatus()):"login"===e?(this.isVisible=!1,this.sliderVisible=!0):"register"===e&&this.$refs.registerForm.validate((e=>{if(!e)return!1;{this.user.userName=this.registerForm.username,this.user.password=this.registerForm.password,this.user.mobile=this.registerForm.phone;let e=this.$axios({url:"/user/register",method:"post",data:this.user});e.then((e=>{"200"==e.data.code?(this.$message.success("注册成功"),this.resetAllStatus()):this.$message.error(e.data.info)})).catch((e=>{this.$message.error("你的网络迷路了")}))}}))}},mounted(){this.$bus.$on("OpenLoginDialog",(()=>{null!==window.localStorage.getItem("user")?this.$message.warning("你已经登录, 请勿重复登录!"):this.isVisible=!0}))},beforeDestroy(){this.$bus.$off("OpenLoginDialog")}},Z=V,W=(0,n.Z)(Z,D,R,!1,null,"3e39f90b",null),B=W.exports,Q={name:"HomeMain",components:{LoginDialog:B},mounted(){}},H=Q,K=(0,n.Z)(H,F,U,!1,null,"19b2c200",null),E=K.exports,J=function(){var e=this,t=e._self._c;return t("div",{staticClass:"main"},[t("div",{staticClass:"column"},[e._m(0),t("div",{staticStyle:{"font-size":"x-small"}},[t("span",[e._v("本项目为"),t("el-link",{staticStyle:{"font-size":"x-small"},attrs:{type:"primary",target:"_blank",href:"https://www.seu.edu.cn/"}},[e._v("东南大学")]),e._v("软件学院2022年 "),t("el-link",{staticStyle:{"font-size":"x-small"},attrs:{type:"primary",target:"_blank",href:"http://www.chinahitech.com.cn/"}},[e._v("中国高科")]),e._v("实训项目")],1)])])])},G=[function(){var e=this,t=e._self._c;return t("div",{staticStyle:{"font-size":"x-small"}},[t("span",[e._v(" || 本网站由 疯狂星期四 小组负责开发和维护 || ")])])}],X={name:"HomeFooter"},Y=X,ee=(0,n.Z)(Y,J,G,!1,null,"286f838c",null),te=ee.exports,se={name:"Home",components:{Navigation:O,HomeMain:E,HomeFooter:te},methods:{scrollBottom(){let e=this.$refs.div.scrollTop,t=this.$refs.div.scrollHeight,s=this.$refs.div.clientHeight;e+s>=t&&this.$bus.$emit("scrollToBottom")}},mounted(){this.$router.replace({name:"recommend"})}},ae=se,ie=(0,n.Z)(ae,f,v,!1,null,"8037c65c",null),re=ie.exports,oe=function(){var e=this,t=e._self._c;return t("div",{staticClass:"p-center"},[t("div",{staticClass:"inner"},[t("div",{staticClass:"nav"},[t("el-menu",{staticClass:"el-menu-vertical-demo",attrs:{"default-active":this.url,router:""}},[t("el-menu-item",{attrs:{index:"/home/personal/pinfo"}},[t("i",{staticClass:"el-icon-user"}),t("span",{attrs:{slot:"title"},slot:"title"},[e._v(" 个人信息 ")])]),t("el-menu-item",{attrs:{index:"/home/personal/history"}},[t("i",{staticClass:"el-icon-document"}),t("span",{attrs:{slot:"title"},slot:"title"},[e._v("历史观看")])]),t("el-menu-item",{attrs:{index:"/home/personal/star"}},[t("i",{staticClass:"el-icon-star-off"}),t("span",{attrs:{slot:"title"},slot:"title"},[e._v("收藏")])]),t("el-menu-item",{attrs:{index:"/home/personal/message"},on:{click:e.pushm}},[t("i",{staticClass:"el-icon-chat-dot-square"}),t("span",{attrs:{slot:"title"},slot:"title"},[e._v(" 消息 "),t("el-badge",{directives:[{name:"show",rawName:"v-show",value:e.msgUnCheckCnt>0,expression:"msgUnCheckCnt > 0"}],staticClass:"mark",staticStyle:{"margin-bottom":"10px"},attrs:{value:e.msgUnCheckCnt,max:99}})],1)]),t("el-menu-item",{attrs:{index:"/home/personal/question"}},[t("i",{staticClass:"el-icon-question"}),t("span",{attrs:{slot:"title"},slot:"title"},[e._v("我的提问")])]),t("el-menu-item",{attrs:{index:"/home/recommend"},on:{click:e.exit}},[t("i",{staticClass:"el-icon-back"}),t("span",{attrs:{slot:"title"},slot:"title"},[e._v("退出登录")])])],1)],1),t("div",{staticClass:"rv"},[t("div",{staticStyle:{"margin-top":"20px","min-height":"550px"}},[t("router-view")],1)])])])},le=[],ne={name:"PersonalCenter",components:{},data(){return{url:"/home/personal/",user:{},msgUnCheckCnt:0}},methods:{pushm(){this.$bus.$emit("clearUnCheckedCnt",-1)},exit(){window.localStorage.removeItem("user"),this.$bus.$emit("AuthorizationChanged")},getMsgUnCheckCnt(){this.msgUnCheckCnt=0;let e=this.$axios({url:"/msgsystem/getbyid",method:"get",params:{id:this.user.userId}});e.then((e=>{this.msgUnCheckCnt=this.msgUnCheckCnt+e.data.length})).catch((e=>{this.$message.error("你的网络迷路了")}));let t=this.$axios({url:"/msgreceive/getbyid",method:"get",params:{id:this.user.userId}});t.then((e=>{console.log(this.msgUnCheckCnt),console.log(e.data.length),this.msgUnCheckCnt=this.msgUnCheckCnt+e.data.length})).catch((e=>{this.$message.error("你的网络迷路了")})),console.log(this.msgUnCheckCnt)}},mounted(){let e=window.localStorage.getItem("user");this.user=JSON.parse(e),this.$bus.$on("clearUnCheckedCnt",(e=>{this.getMsgUnCheckCnt()})),this.getMsgUnCheckCnt();let t=this.$route.query.select;""!==t&&void 0!==t?(this.url=this.url+t,this.$router.push(this.url)):(this.url=this.url+"pinfo",this.$router.push(this.url))},beforeDestroy(){this.$bus.$off("clearUnCheckedCnt")}},ce=ne,ue=(0,n.Z)(ce,oe,le,!1,null,"3b6ef945",null),de=ue.exports,me=function(){var e=this,t=e._self._c;return t("div",{staticClass:"main"},[t("course-search-result")],1)},he=[],pe=function(){var e=this,t=e._self._c;return t("div",{staticClass:"main"},[t("div",{staticClass:"space-between"},[e._m(0),t("div",{staticStyle:{"font-weight":"lighter",color:"#99a9bf","font-size":"small"}},[e._v("共找到 "),t("span",{staticStyle:{"font-weight":"bold",color:"teal"}},[e._v(e._s(e.coursesToDisplay.length))]),e._v("个课程 ")])]),t("div",[t("el-link",{ref:"default",staticClass:"sort-tag",staticStyle:{"margin-left":"0"},attrs:{underline:!1},on:{click:function(t){return e.setSortType("default")}}},[e._v(" 综合 ")]),t("el-link",{ref:"likeRate",staticClass:"sort-tag",attrs:{underline:!1},on:{click:function(t){return e.setSortType("likeRate")}}},[e._v("点赞数 ")]),t("el-link",{ref:"studentNum",staticClass:"sort-tag",attrs:{underline:!1},on:{click:function(t){return e.setSortType("studentNum")}}},[e._v("人气 ")])],1),t("div",{staticClass:"result-table"},e._l(e.coursesToDisplay.slice((e.curPage-1)*e.pageSize,e.curPage*e.pageSize),(function(e){return t("course-card",{attrs:{course:e}})})),1),t("div",[t("el-pagination",{staticClass:"page-controller",attrs:{background:"","page-size":e.pageSize,"current-page":e.curPage,layout:"prev, pager, next",total:e.courseList.length},on:{"update:pageSize":function(t){e.pageSize=t},"update:page-size":function(t){e.pageSize=t},"update:currentPage":function(t){e.curPage=t},"update:current-page":function(t){e.curPage=t},"current-change":e.handleCurrentChange}})],1)])},ge=[function(){var e=this,t=e._self._c;return t("div",[t("h5",{staticStyle:{color:"#409EFF"}},[e._v("搜索结果")])])}],fe=function(){var e=this,t=e._self._c;return t("div",{ref:"card",staticClass:"main",on:{click:e.pushcourse}},[t("el-image",{style:e.imgStyle,attrs:{src:e.course.logo,fit:"fill"}}),t("div",[t("span",{staticStyle:{"max-height":"40px",overflow:"hidden","font-size":"x-small"}},[e._v(" "+e._s(e.course.courseName)+" ")]),t("div",{staticStyle:{"font-size":"xx-small",color:"#999999"}},[e._v(" 共"+e._s(e.num)+"节 | "+e._s(e.teacher.name)+" ")]),t("div",{staticClass:"footer",staticStyle:{"font-size":"xx-small",color:"#999999"}},[t("div",[t("span",{staticStyle:{color:"teal"}},[e._v(e._s(e.course.pageViewcount))]),e._v("人浏览 ")]),t("div",[t("span",{staticStyle:{color:"teal"}},[e._v(e._s(e.course.praiseCount))]),e._v("人点赞 ")])])])],1)},ve=[],be={name:"CourseCard",data(){return{num:1,teacher:"",imgStyle:{width:"100%",height:"120px"}}},props:{direction:{type:String,default:"column",required:!1},course:{}},methods:{pushcourse(){this.request.get("/course/pageviewplus",{params:{id:this.course.courseId}}),this.$bus.$emit("courseChanged",this.course),this.$router.push({name:"course",params:{courseId:this.course.courseId}})}},mounted(){let e=this.$axios({url:"/coursevideo/getnum",method:"get",params:{courseId:this.course.courseId}});e.then((e=>{this.num=e.data})).catch((e=>{}));let t=this.$axios({url:"/teacher/id",method:"get",params:{id:this.course.teacherId}});t.then((e=>{this.teacher=e.data})).catch((e=>{})),"row"===this.direction&&(this.imgStyle.width="50%",this.$refs.card.style.flexDirection="row",this.$refs.card.style.justifyContent="center",this.$refs.card.style.width="400px",this.$refs.card.style.height="150px",this.$refs.card.style.alignItems="center")}},ye=be,Ce=(0,n.Z)(ye,fe,ve,!1,null,"c28b690a",null),_e=Ce.exports,$e={name:"CourseSearchResult",components:{CourseCard:_e},data(){return{courseList:[],coursesToDisplay:[],pageSize:20,sortType:"default",curPage:1}},methods:{handleCurrentChange(e){this.curPage=e},setSortType(e){this.sortList(e),this.curPage=1},sortList(e){this.coursesToDisplay=[...this.courseList],"default"===e||("likeRate"===e?this.coursesToDisplay.sort(((e,t)=>t.praiseCount-e.praiseCount)):"studentNum"===e&&this.coursesToDisplay.sort(((e,t)=>t.pageViewcount-e.pageViewcount)))},refresh(e,t){if(void 0!==e&&""!==e||(e=null),void 0!==t&&""!==t||(t=null),null==e&&null==t){}else if(null==e&&null!=t){let e=this.$axios({url:"/course/getbyname",method:"get",params:{name:t}});e.then((e=>{this.courseList=e.data,this.sortList(this.sortType)})).catch((e=>{this.$message.error("你的网络迷路了")}))}else if(null!=e&&null==t){let t=this.$axios({url:"/course/getByType",method:"get",params:{type:e}});t.then((e=>{this.courseList=e.data,this.sortList(this.sortType)})).catch((e=>{this.$message.error("你的网络迷路了")}))}else{let s=this.$axios({url:"/course/gebyboth",method:"get",params:{select:e,key:t}});s.then((e=>{this.courseList=e.data,this.sortList(this.sortType)})).catch((e=>{this.$message.error("你的网络迷路了")}))}}},mounted(){this.$bus.$on("searchInputChanged",((e,t)=>{this.refresh(e,t)}))},beforeDestroy(){this.$bus.$off("searchInputChanged")}},we=$e,xe=(0,n.Z)(we,pe,ge,!1,null,"86e0cf04",null),ke=xe.exports,Se={name:"CourserSearchLayout",components:{courseSearchResult:ke},mounted(){this.$bus.$emit("searchInputChanged",this.$route.params.select,this.$route.params.searchKey)}},Ie=Se,Pe=(0,n.Z)(Ie,me,he,!1,null,"2bf52500",null),Te=Pe.exports,ze=function(){var e=this,t=e._self._c;return t("div",{staticStyle:{width:"1100px",margin:"10px auto"}},[t("div",{staticClass:"main"},[t("el-row",[t("el-col",{attrs:{span:15,offset:1}},[t("el-carousel",{staticStyle:{"border-radius":"6px"},attrs:{height:"320px"}},e._l(e.imgs,(function(s){return t("el-carousel-item",[t("el-image",{staticClass:"p-on-hover",staticStyle:{width:"100%",height:"100%"},attrs:{src:s.src,fit:"fill"},on:{click:function(t){return e.imgClicked(s.href)}}})],1)})),1)],1),t("el-col",{staticClass:"user-card",attrs:{span:6,offset:1}},[t("user-card")],1)],1),t("el-row",{staticClass:"hot-title"},[t("div",{staticStyle:{"flex-grow":"1"}},[e._v("热门课程推荐")]),t("el-link",{attrs:{underline:!1,type:"primary"},on:{click:e.refreshCourse}},[e._v("换一批"),t("i",{staticClass:"el-icon-refresh",on:{click:e.refreshCourse}})])],1),t("el-row",{staticClass:"divider"}),t("el-row",{staticClass:"myHot"},e._l(e.hotCourseList,(function(e){return t("course-card",{attrs:{course:e}})})),1)],1)])},Ne=[],qe=function(){var e=this,t=e._self._c;return t("div",{staticClass:"main"},[null==e.user?t("div",{staticClass:"default"},[t("div",{staticClass:"default-item",staticStyle:{"font-weight":"lighter","font-size":"small",margin:"10px 0"}},[e._v(" 跟进你的学习进度 ")]),e._m(0),t("div",{staticClass:"default-item"},[t("el-button",{staticStyle:{width:"150px"},attrs:{type:"primary",round:""},on:{click:e.handleClickLogIn}},[e._v("登录 ")])],1)]):e._e(),null!=e.user?t("div",{staticClass:"default"},[t("div",{staticClass:"login-item"},[t("a",{staticClass:"mini-img-container",attrs:{href:"#"},on:{click:function(t){return e.$router.push({name:"personal",query:{select:""}})}}},[t("el-avatar",{attrs:{size:"medium",src:e.user.picImg}},[null==e.user.picImg||""==e.user.picImg?t("span",[e._v(e._s(e.user.userName))]):e._e()])],1),t("el-link",{staticClass:"line-text-ellipsis",staticStyle:{"font-size":"medium","max-width":"100px","min-width":"100px",margin:"0 10px"},attrs:{underline:!1,type:"success"},on:{click:function(t){return e.$router.push({name:"personal",query:{select:""}})}}},[e._v(" "+e._s(e.user.userName)+" ")]),t("el-link",{attrs:{underline:!1,type:"info"},on:{click:e.exit}},[e._v("退出")])],1),t("div",{staticClass:"course"},[t("el-link",{attrs:{underline:!1},on:{click:function(t){return e.$router.push({name:"personal",query:{select:"history"}})}}},[e._v(e._s(e.history.name[0])+"  "+e._s(e.history.time[0])+" ")])],1),t("div",{staticClass:"course"},[t("el-link",{attrs:{underline:!1},on:{click:function(t){return e.$router.push({name:"personal",query:{select:"history"}})}}},[e._v(e._s(e.history.name[1])+"  "+e._s(e.history.time[1])+" ")])],1),t("div",{staticClass:"course"},[t("el-link",{attrs:{underline:!1},on:{click:function(t){return e.$router.push({name:"personal",query:{select:"history"}})}}},[e._v(e._s(e.history.name[2])+"  "+e._s(e.history.time[2])+" ")])],1),t("div",{staticClass:"divider"}),t("div",{staticClass:"login-card-footer",staticStyle:{width:"100%"}},[t("div",{staticStyle:{margin:"0 10px"}},[t("el-link",{staticStyle:{"font-size":"medium"},attrs:{underline:!1},on:{click:function(t){return e.$router.push({name:"personal",query:{select:"history"}})}}},[e._v(e._s(e.historyNum)+"门课程")])],1),t("div",{staticStyle:{margin:"0 10px"}},[t("el-link",{staticStyle:{"font-size":"medium"},attrs:{underline:!1},on:{click:function(t){return e.$router.push({name:"personal",query:{select:"star"}})}}},[e._v(e._s(e.starCourseNum)+"门收藏")])],1)])]):e._e()])},Le=[function(){var e=this,t=e._self._c;return t("div",{staticClass:"default-item"},[t("i",{staticClass:"el-icon-s-custom myIcon"})])}],Ae={name:"UserCard",components:{LoginDialog:B},data(){return{user:null,historyNum:0,starCourseNum:0,history:{name:"",time:""}}},methods:{exit(){window.localStorage.removeItem("user"),this.$message.info("已退出登录"),this.$bus.$emit("AuthorizationChanged")},handleClickLogIn(){null===this.user?this.$bus.$emit("OpenLoginDialog"):this.$message.info("请勿重复登录")},refreshAuthorization(){let e=window.localStorage.getItem("user");null!=e?(e=JSON.parse(e),this.user=e,this.request.get("/coursefavorite/getbyuserid",{params:{userid:this.user.userId}}).then((e=>{this.starCourseNum=e.length})),this.request.get("/coursehistory/getbyuserid",{params:{userid:this.user.userId}}).then((e=>{this.historyNum=e.length})),this.request.get("/coursehistory/getByUserId",{params:{id:this.user.userId}}).then((e=>{this.history.name=e})),this.request.get("/coursehistory/getByUserIdT",{params:{id:this.user.userId}}).then((e=>{this.history.time=e}))):this.user=null}},mounted(){this.refreshAuthorization(),this.$bus.$on("AuthorizationChanged",(()=>{this.refreshAuthorization()}))},beforeDestroy(){this.$bus.$off("Authorization-Changed")}},Oe=Ae,Fe=(0,n.Z)(Oe,qe,Le,!1,null,"1782787c",null),Ue=Fe.exports,De={name:"CourseRecommend",components:{UserCard:Ue,CourseCard:_e},data(){return{hotCourseList:[],imgs:[{src:s(1296),href:"https://www.seu.edu.cn/"},{src:s(4946),href:"https://www.seu.edu.cn/"},{src:s(5817),href:"https://www.seu.edu.cn/"},{src:s(2139),href:"https://www.seu.edu.cn/"},{src:s(3497),href:"https://www.seu.edu.cn/"}]}},methods:{imgClicked(e){window.open(e)},refreshCourse(){let e=this.$axios({url:"/course/getrecommend",method:"get"});e.then((e=>{let t=e.data;this.hotCourseList=t})).catch((e=>{this.$message.error("你的网络迷路了")}))}},mounted(){this.refreshCourse()}},Re=De,Me=(0,n.Z)(Re,ze,Ne,!1,null,"824f8a88",null),je=Me.exports,Ve=function(){var e=this,t=e._self._c;return t("div",{staticClass:"main"},[t("el-col",{attrs:{span:15,offset:1}},[t("play-header"),t("play-window"),t("play-window-footer")],1),t("el-col",{staticStyle:{overflow:"visible"},attrs:{span:7,offset:1}},[t("play-teacher-header"),t("play-list"),t("play-recommend-card")],1)],1)},Ze=[],We=function(){var e=this,t=e._self._c;return t("div",{staticClass:"play-title"},[t("div",[t("span",{staticStyle:{"font-size":"large"}},[e._v(e._s(e.course.courseName))])]),t("div",{staticClass:"course-info",staticStyle:{"margin-top":"10px"}},[t("div",{staticStyle:{"margin-left":"20px","margin-right":"20px"}},[t("i",{staticClass:"el-icon-video-play"}),e._v(" "+e._s(e.course.pageViewcount)+" ")]),t("div",{staticStyle:{"margin-right":"20px"}},[t("i",{staticClass:"el-icon-chat-dot-square"}),e._v(" "+e._s(e.course.commentNum)+" ")]),t("div",{staticStyle:{"margin-right":"20px"}},[t("i",{staticClass:"el-icon-time"}),e._v(" "+e._s(e.course.addTime.split("T")[0])+"  "+e._s(e.course.addTime.split("T")[1])+" ")])])])},Be=[],Qe={name:"PlayHeader",data(){return{course:{}}},mounted(){this.$bus.$on("courseChanged",(e=>{this.course=e}))},beforeDestroy(){this.$bus.$off("courseChanged")}},He=Qe,Ke=(0,n.Z)(He,We,Be,!1,null,"786f36d0",null),Ee=Ke.exports,Je=function(){var e=this,t=e._self._c;return t("div",{staticClass:"teacher-header",on:{click:e.openTeacher}},[t("div",{staticClass:"large-avatar"},[t("a",{attrs:{href:"#"}},[t("el-avatar",{attrs:{size:60,src:e.teacher.picPath}},[""==e.teacher.picPath||null==e.teacher.picPath?t("span",[e._v(e._s(e.teacher.name))]):e._e()])],1)]),t("div",[t("div",{staticStyle:{"font-weight":"lighter",margin:"20px 0 5px  0"}},[e._v(" "+e._s(e.teacher.name)+"   "),t("el-tag",{attrs:{type:"warning",size:"mini"}},[e._v(e._s(e.teacher.education))])],1),t("div",{staticStyle:{"font-size":"x-small",color:"#99a9bf"}},[e._v(" "+e._s(e.teacher.career)+" ")])])])},Ge=[],Xe={name:"PlayTeacherHeader",data(){return{teacher:{},course:{}}},watch:{course(e){let t=this.$axios({url:"/teacher/id",method:"get",params:{id:e.teacherId}});t.then((e=>{this.teacher=e.data})).catch((e=>{this.$message.error("你的网络迷路了")}))}},methods:{openTeacher(){this.$router.push({name:"teacherPage",params:{teacherId:this.teacher.id}})}},mounted(){this.$bus.$on("courseChanged",(e=>{this.course=e}))},beforeDestroy(){this.$bus.$off("courseChanged")}},Ye=Xe,et=(0,n.Z)(Ye,Je,Ge,!1,null,"6cd83036",null),tt=et.exports,st=function(){var e=this,t=e._self._c;return t("div",{staticClass:"play-window"},[t("video-player",{ref:"videoPlayer",staticClass:"video-player vjs-custom-skin",attrs:{playsinline:!0,options:e.playerOptions},on:{canplaythrough:e.onCanplay,ended:e.onPlayEnd}})],1)},at=[],it={name:"PlayWindow",data(){return{autoP:!0,playerOptions:{playbackRates:[.5,1,1.5,2],autoplay:!0,muted:!1,loop:!1,preload:"auto",language:"zh-CN",aspectRatio:"8:5",fluid:!0,sources:[],notSupportedMessage:"此视频暂无法播放，请稍后再试",controlBar:{timeDivider:!0,durationDisplay:!0,remainingTimeDisplay:!1,fullscreenToggle:!0}}}},methods:{onPlayEnd(){this.$bus.$emit("playEnd")},onCanplay(){this.autoP||this.$refs.videoPlayer.player.pause()}},mounted(){this.$bus.$on("chapterChanged",((e,t,s)=>{this.playerOptions.sources[0]={src:e,type:"video/mp4"},this.autoP=!0,void 0!==s&&(this.autoP=!1),this.$refs.videoPlayer.player.src(e)}))},beforeDestroy(){this.$bus.$off("chapterChanged")}},rt=it,ot=(0,n.Z)(rt,st,at,!1,null,"489a7438",null),lt=ot.exports,nt=function(){var e=this,t=e._self._c;return t("div",{staticClass:"play-list"},[t("div",{staticClass:"list-title"},[t("div",[e._v("课程选集"),t("span",{staticStyle:{"font-size":"x-small",color:"#9499A0"}},[e._v(" ("+e._s(e.curChapter)+"/"+e._s(e.chapters.length)+") ")])]),t("div",[t("span",{staticStyle:{color:"#9499A0"}},[e._v(" 自动连播 ")]),t("el-switch",{attrs:{"active-color":"#13ce66","inactive-color":"#9499A0"},model:{value:e.autoPlayNext,callback:function(t){e.autoPlayNext=t},expression:"autoPlayNext"}})],1)]),t("div",{staticClass:"list-body"},e._l(e.chapters,(function(e){return t("play-list-item",{attrs:{chapter:e}})})),1)])},ct=[],ut=function(){var e=this,t=e._self._c;return t("div",{ref:"pli",staticClass:"li"},[t("div",{staticClass:"play-list-item",on:{click:function(t){return e.chapterChanged(e.chapter.videoLink,e.chapter.courseRank)}}},[t("div",{staticStyle:{"margin-left":"15px"}},[t("span",[e._v("    "+e._s(e.chapter.name)+" ")])]),t("div",{staticStyle:{color:"#9499A0","font-size":"x-small"}},[e._v(e._s(e.chapter.time))])])])},dt=[],mt={name:"PlayListItem",props:{chapter:{}},methods:{chapterChanged(e,t){this.$bus.$emit("chapterChanged",e,t)}},mounted(){this.$bus.$on("chapterChanged",((e,t)=>{t===this.chapter.courseRank?this.$refs.pli.className="myActive":this.$refs.pli.className="li"}))},beforeDestroy(){this.$bus.$off("chapterChanged")}},ht=mt,pt=(0,n.Z)(ht,ut,dt,!1,null,"502dd113",null),gt=pt.exports,ft={name:"PlayList",components:{PlayListItem:gt},data(){return{chapters:[],autoPlayNext:!0,curChapter:1,course:{}}},methods:{},mounted(){this.$bus.$on("chapterChanged",((e,t)=>{this.curChapter=t})),this.$bus.$on("courseChanged",(e=>{this.course=e;let t=this.$axios({url:"/coursevideo/findbycourseid",method:"get",params:{courseId:this.course.courseId}});t.then((e=>{this.chapters=e.data})).catch((e=>{this.$message.error("你的网络迷路了")})),this.$bus.$emit("chapterChanged",this.chapters[0].videoLink,1,!1)})),this.$bus.$on("playEnd",(()=>{this.autoPlayNext&&this.curChapter!==this.chapters.length&&this.$bus.$emit("chapterChanged",this.chapters[this.curChapter].videoLink,++this.curChapter)}))},beforeDestroy(){this.$bus.$off("courseChanged"),this.$bus.$off("chapterChanged"),this.$bus.$off("playEnd")}},vt=ft,bt=(0,n.Z)(vt,nt,ct,!1,null,"61e4aed6",null),yt=bt.exports,Ct=function(){var e=this,t=e._self._c;return t("div",{staticClass:"play-window-footer"},[t("div",{staticClass:"star-score"},[t("div",[t("el-link",{staticClass:"starLink",attrs:{underline:!1,type:"primary",icon:e.starStateIcon},on:{click:e.starClass}},[t("span",{staticStyle:{"font-size":"small"}},[e._v(" 收藏 ")])]),t("el-link",{staticClass:"starLink",attrs:{underline:!1,type:"primary"},on:{click:e.likeClass}},[t("span",{staticStyle:{"font-size":"small","margin-left":"30px"}},[t("span",{staticStyle:{position:"relative",top:"5px"}},[t("svg",{directives:[{name:"show",rawName:"v-show",value:e.liked,expression:"liked"}],staticClass:"icon",attrs:{t:"1661588476006",viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"2098",width:"24",height:"24"}},[t("path",{attrs:{d:"M621.674667 408.021333c16.618667-74.24 28.224-127.936 34.837333-161.194666C673.152 163.093333 629.941333 85.333333 544.298667 85.333333c-77.226667 0-116.010667 38.378667-138.88 115.093334l-0.586667 2.24c-13.728 62.058667-34.72 110.165333-62.506667 144.586666a158.261333 158.261333 0 0 1-119.733333 58.965334l-21.909333 0.469333C148.437333 407.808 106.666667 450.816 106.666667 503.498667V821.333333c0 64.8 52.106667 117.333333 116.394666 117.333334h412.522667c84.736 0 160.373333-53.568 189.12-133.92l85.696-239.584c21.802667-60.96-9.536-128.202667-70.005333-150.186667a115.552 115.552 0 0 0-39.488-6.954667H621.674667z","p-id":"2099",fill:"#1296db"}})]),t("svg",{directives:[{name:"show",rawName:"v-show",value:!e.liked,expression:"!liked"}],staticClass:"icon",attrs:{t:"1661588105531",viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"1390",width:"24",height:"24"}},[t("path",{attrs:{d:"M621.674667 408.021333c16.618667-74.24 28.224-127.936 34.837333-161.194666C673.152 163.093333 629.941333 85.333333 544.298667 85.333333c-77.226667 0-116.010667 38.378667-138.88 115.093334l-0.586667 2.24c-13.728 62.058667-34.72 110.165333-62.506667 144.586666a158.261333 158.261333 0 0 1-119.733333 58.965334l-21.909333 0.469333C148.437333 407.808 106.666667 450.816 106.666667 503.498667V821.333333c0 64.8 52.106667 117.333333 116.394666 117.333334h412.522667c84.736 0 160.373333-53.568 189.12-133.92l85.696-239.584c21.802667-60.96-9.536-128.202667-70.005333-150.186667a115.552 115.552 0 0 0-39.488-6.954667H621.674667zM544.256 149.333333c39.253333 0 59.498667 36.48 49.888 84.928-7.573333 38.144-21.984 104.426667-43.221333 198.666667-4.512 20.021333 10.56 39.093333 30.912 39.093333h218.666666c6.101333 0 12.16 1.066667 17.909334 3.168 27.445333 9.984 41.674667 40.554667 31.776 68.266667l-85.568 239.573333C744.981333 838.026667 693.301333 874.666667 635.402667 874.666667H223.498667C194.314667 874.666667 170.666667 850.784 170.666667 821.333333V503.498667c0-17.866667 14.144-32.448 31.829333-32.821334l21.866667-0.469333a221.12 221.12 0 0 0 167.381333-82.56c34.346667-42.602667 59.146667-99.306667 74.869333-169.877333C482.101333 166.336 499.552 149.333333 544.266667 149.333333z","p-id":"1391",fill:"#1296db"}})])]),e._v(" 点赞 ")])])],1)]),t("div",{staticClass:"comment-and-info-card"},[t("el-tabs",{model:{value:e.activeName,callback:function(t){e.activeName=t},expression:"activeName"}},[t("el-tab-pane",{attrs:{name:"intro"}},[t("div",{staticClass:"title-tag",attrs:{slot:"label"},slot:"label"},[e._v("课程介绍")]),t("div",{staticStyle:{margin:"20px","font-weight":"lighter","font-size":"small","line-height":"33px"}},[e._v(" "+e._s(e.course.title)+" ")])]),t("el-tab-pane",{attrs:{name:"comment"}},[t("div",{staticClass:"title-tag",attrs:{slot:"label"},slot:"label"},[e._v("用户评论")]),t("course-comment-list")],1)],1)],1)])},_t=[],$t=function(){var e=this,t=e._self._c;return t("div",{staticClass:"comment-list"},[t("div",{staticStyle:{"margin-left":"100px"}},[t("el-rate",{attrs:{"show-text":""},model:{value:e.commentRate,callback:function(t){e.commentRate=t},expression:"commentRate"}})],1),t("div",{staticClass:"comment-input-box"},[t("div",{on:{click:function(t){return e.$router.push({name:"personal",query:{select:"pinfo"}})}}},[t("el-avatar",{attrs:{size:70,src:e.user.picImg}},[void 0===e.user.userId?t("span",[e._v("未登录")]):e._e(),""===e.user.picImg&&void 0!==e.user.userId?t("span",[e._v(e._s(e.user.name))]):e._e()])],1),t("el-input",{staticClass:"comment-input-area",attrs:{type:"textarea",rows:3,placeholder:"请输入一条友善的评论内容"},model:{value:e.userComment,callback:function(t){e.userComment=t},expression:"userComment"}}),1==e.commentable?t("el-button",{staticClass:"comment-confirm-btn",attrs:{type:"primary",plain:""},on:{click:e.commitComment}},[e._v("发布 ")]):e._e(),0==e.commentable?t("el-button",{staticClass:"comment-confirm-btn",attrs:{type:"danger",plain:""},on:{click:e.deleteComment}},[e._v("删除")]):e._e()],1),t("div",[0==e.comments.length?t("h4",[e._v("暂无评论")]):e._e(),0!=e.comments.length?t("h4",[e._v("好评率："+e._s(Math.round(e.goodReview/e.comments.length*100))+"%")]):e._e()]),t("div",{staticClass:"comment-selector"},[t("el-button",{staticClass:"selector-tag",staticStyle:{"margin-left":"0"},attrs:{plain:"all"!==e.filterMethod,type:"primary"},on:{click:function(t){e.filterMethod="all"}}},[e._v("全部评论("+e._s(e.comments.length)+") ")]),t("el-button",{staticClass:"selector-tag",attrs:{plain:"good"!==e.filterMethod,type:"primary",plain:""},on:{click:function(t){e.filterMethod="good"}}},[e._v("好评("+e._s(e.goodReview)+") ")]),t("el-button",{staticClass:"selector-tag",attrs:{plain:"medium"!==e.filterMethod,type:"primary",plain:""},on:{click:function(t){e.filterMethod="medium"}}},[e._v("中评("+e._s(e.mediumReview)+") ")]),t("el-button",{staticClass:"selector-tag",attrs:{plain:"bad"!==e.filterMethod,type:"primary",plain:""},on:{click:function(t){e.filterMethod="bad"}}},[e._v("差评("+e._s(e.badReview)+") ")])],1),t("div",e._l(e.commentsToDisplay.slice((e.curPage-1)*e.pageSize,e.curPage*e.pageSize),(function(e){return t("comment",{attrs:{comment:e}})})),1),t("div",{staticClass:"comment-pagination-container"},[t("el-pagination",{attrs:{background:"","hide-on-single-page":"","current-page":e.curPage,"page-size":e.pageSize,total:e.commentsToDisplay.length,layout:"prev, pager, next"},on:{"update:currentPage":function(t){e.curPage=t},"update:current-page":function(t){e.curPage=t}}})],1)])},wt=[],xt=function(){var e=this,t=e._self._c;return t("div",{staticClass:"comment"},[t("div",{staticClass:"comment-header"},[t("div",{staticClass:"comment-avatar"},[t("el-avatar",{attrs:{size:40,src:e.commenter.picImg}},[""==e.commenter.picImg?t("span",[e._v(e._s(e.commenter.userName))]):e._e()])],1),t("div",{staticClass:"comment-info"},[t("div",{staticStyle:{"font-size":"16px"}},[e._v(e._s(e.commenter.userName))]),t("div",{staticClass:"time-and-score"},[t("div",{staticStyle:{"margin-right":"10px"}},[e._v(e._s(e.comment.addtime.split("T")[0])+" "+e._s(e.comment.addtime.split("T")[1].split(":")[0])+":"+e._s(e.comment.addtime.split("T")[1].split(":")[1]))]),t("el-rate",{attrs:{disabled:"","text-color":"#ff9900","score-template":"{value}"},model:{value:e.comment.praiseCount,callback:function(t){e.$set(e.comment,"praiseCount",t)},expression:"comment.praiseCount"}})],1)])]),t("div",{staticClass:"comment-content"},[t("p",{staticStyle:{width:"100%"}},[e._v(" "+e._s(e.comment.content)+" ")])])])},kt=[],St={name:"Comment",data(){return{commenter:{},myComment:this.comment}},props:{comment:{}},watch:{myComment:{deep:!0,immediate:!0,handler:function(e){this.refreshCommenter(e.commenterId)}}},methods:{refreshCommenter(e){let t=this.$axios({url:"/user/findOne",method:"get",params:{id:this.myComment.userId}});t.then((e=>{this.commenter=e.data})).catch((e=>{this.$message.error("你的网络迷路了")}))}}},It=St,Pt=(0,n.Z)(It,xt,kt,!1,null,"5deb7eec",null),Tt=Pt.exports,zt={name:"CourseCommentList",components:{Comment:Tt},data(){return{commentable:!0,userComment:"",commentRate:null,course:{},comments:[],user:{},commentsToDisplay:[],filterMethod:"all",goodReview:0,badReview:0,mediumReview:0,curPage:1,pageSize:10,mycommentid:0}},watch:{filterMethod(e){this.filterComment(e)}},methods:{countReview(){this.goodReview=0,this.badReview=0,this.mediumReview=0,this.comments.forEach((e=>{e.praiseCount>=4?this.goodReview++:e.praiseCount<=2?this.badReview++:this.mediumReview++}))},filterComment(e){this.commentsToDisplay=this.comments,"all"===e||null==e||("bad"===e?this.commentsToDisplay=this.commentsToDisplay.filter((e=>e.praiseCount<=2)):"good"===e?this.commentsToDisplay=this.commentsToDisplay.filter((e=>e.praiseCount>=4)):"medium"===e&&(this.commentsToDisplay=this.commentsToDisplay.filter((e=>e.praiseCount>2&&e.praiseCount<4))))},deleteComment(){this.request.get("/comment/delete",{params:{commentId:this.mycommentid}}).then((e=>{"200"==e.code&&(this.$message.success("删除成功"),this.request.get("/course/commentdeplus",{params:{id:this.course.courseId}}),this.updateComments())}))},commitComment(){if(void 0===this.user.userId)this.$bus.$emit("OpenLoginDialog");else{let e=this.$axios({url:"/comment/sendCourse",method:"get",params:{userId:this.user.userId,commentContent:this.userComment,courseId:this.course.courseId,rate:this.commentRate}});e.then((e=>{"200"==e.data.code?(this.$message.success("评论成功"),this.userComment="",this.request.get("/course/commentplus",{params:{id:this.course.courseId}}),this.updateComments()):this.$message.error(e.data.message)})).catch((e=>{this.$message.error("你的网络迷路了")}))}},updateComments(){let e=this.$axios({url:"/comment/getbyuser",method:"get",params:{userId:this.user.userId,courseId:this.course.courseId}});e.then((e=>{""!=e.data?(this.mycommentid=e.data.commentId,this.userComment=e.data.content,this.commentRate=e.data.praiseCount,this.commentable=!1):(this.userComment="",this.commentRate="",this.commentable=!0)})).catch((e=>{}));let t=this.$axios({url:"/comment/showC",method:"get",params:{courseId:this.course.courseId}});t.then((e=>{console.log(e.data);let t=e.data;this.comments=t,this.countReview(),this.filterComment("all")})).catch((e=>{this.$message.error("你的网络迷路了")}))}},mounted(){this.$bus.$on("AuthorizationChanged",(()=>{let e=window.localStorage.getItem("user");this.user=JSON.parse(e)})),this.$bus.$on("courseChanged",(e=>{let t=window.localStorage.getItem("user");null!==t&&(this.user=JSON.parse(t)),this.course=e,this.updateComments()}));let e=window.localStorage.getItem("user");null!==e&&(this.user=JSON.parse(e))},beforeDestroy(){this.$bus.$off("courseChanged"),this.$bus.$off("AuthorizationChanged")}},Nt=zt,qt=(0,n.Z)(Nt,$t,wt,!1,null,"7f6310b6",null),Lt=qt.exports,At={name:"PlayWindowFooter",components:{CourseCommentList:Lt},data(){return{stared:!1,course:{},activeName:"comment",user:{},liked:!1}},computed:{starStateIcon(){return this.stared?"el-icon-star-on":"el-icon-star-off"}},methods:{starClass(){if(null===this.user)this.$message.info("请先登录或注册");else if(this.stared){let e=this.$axios({url:"/records/reduceRecordCourseCollect",method:"get",params:{userId:this.user.userId,courseCollectId:this.course.courseId}});e.then((e=>{"200"==e.data.code&&(this.stared=!1,this.$message.info("取消收藏"))})).catch((e=>{this.$message.error("你的网络迷路了")}))}else{let e=this.$axios({url:"/records/addRecordCourseCollect",method:"get",params:{userId:this.user.userId,courseCollectId:this.course.courseId}});e.then((e=>{"200"==e.data.code&&(this.stared=!0,this.$message.success("收藏成功"))})).catch((e=>{this.$message.error("你的网络迷路了")}))}},likeClass(){if(null===this.user)this.$message.info("请先登录或注册");else{let e=this.$axios({url:"/records/orLikedCourse",method:"get",params:{userId:this.user.userId,courseId:this.course.courseId}});e.then((e=>{if(1==e.data){let e=this.$axios({url:"/records/reduceRecordCourseLike",method:"get",params:{userId:this.user.userId,courseLikeId:this.course.courseId}});e.then((e=>{"200"==e.data.code?(this.liked=!1,this.$message.info("取消点赞"),this.request.get("/course/praisedeplus",{params:{id:this.course.courseId}})):this.$message.error("取消失败")}))}else{let e=this.$axios({url:"/records/addRecordCourseLike",method:"get",params:{userId:this.user.userId,courseLikeId:this.course.courseId}});e.then((e=>{"200"==e.data.code?(this.liked=!0,this.$message.success("点赞成功"),this.request.get("/course/praiseplus",{params:{id:this.course.courseId}})):this.$message.error("点赞失败")}))}})).catch((e=>{this.$message.error("你的网络迷路了")}))}}},mounted(){this.$bus.$on("courseChanged",(e=>{let t=window.localStorage.getItem("user");this.user=JSON.parse(t),this.course=e;let s=this.$axios({url:"/records/orCollectedCourse",method:"get",params:{userId:this.user.userId,courseId:this.course.courseId}});s.then((e=>{1==e.data?this.stared=!0:this.stared=!1})).catch((e=>{this.$message.error("你的网络迷路了")}));let a=this.$axios({url:"/records/orLikedCourse",method:"get",params:{userId:this.user.userId,courseId:this.course.courseId}});a.then((e=>{1==e.data?this.liked=!0:this.liked=!1}))}))},beforeDestroy(){this.$bus.$off("courseChanged")}},Ot=At,Ft=(0,n.Z)(Ot,Ct,_t,!1,null,"ef1dd5cc",null),Ut=Ft.exports,Dt=function(){var e=this,t=e._self._c;return t("div",{staticClass:"play-recommend-card"},[t("div",{staticStyle:{margin:"10px auto"}},[e._v("相关课程推荐")]),e._l(e.courses,(function(e){return t("course-card",{attrs:{direction:"row",course:e}})}))],2)},Rt=[],Mt={name:"PlayRecommend",components:{CourseCard:_e},data(){return{courses:[],course:{}}},mounted(){this.$bus.$on("courseChanged",(e=>{this.course=e;let t=this.$axios({url:"/course/typeRecommend",method:"get",params:{courseId:e.courseId}});t.then((e=>{console.log(e.data),this.courses=e.data})).catch((e=>{this.$message.error("你的网络迷路了")}))}))},beforeDestroy(){this.$bus.$off("courseChanged")}},jt=Mt,Vt=(0,n.Z)(jt,Dt,Rt,!1,null,"6040dbc7",null),Zt=Vt.exports,Wt={name:"CourseMainLayout",components:{PlayHeader:Ee,PlayTeacherHeader:tt,PlayWindow:lt,PlayList:yt,PlayWindowFooter:Ut,PlayRecommendCard:Zt},methods:{refreshCourse(){let e=this.$axios({url:"/course/getById",method:"get",params:{id:this.$route.params.courseId}});e.then((e=>{this.$bus.$emit("courseChanged",e.data)})).catch((e=>{this.$message.error("你的网络迷路了, 课程加载失败!")}))}},mounted(){this.refreshCourse()}},Bt=Wt,Qt=(0,n.Z)(Bt,Ve,Ze,!1,null,"3dd6fdde",null),Ht=Qt.exports,Kt=function(){var e=this,t=e._self._c;return t("div",{staticClass:"teacher-center"},[t("div",{staticClass:"header"},[t("div",{staticClass:"searchInput"},[t("el-input",{staticClass:"input-with-select",attrs:{placeholder:"搜索你喜欢的讲师"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.searchTeacher(e.key)}},model:{value:e.key,callback:function(t){e.key=t},expression:"key"}},[t("el-button",{attrs:{slot:"append",icon:"el-icon-search"},on:{click:function(t){return e.searchTeacher(e.key)}},slot:"append"})],1)],1),t("div",{staticClass:"space-between"},[t("div",{staticStyle:{"font-weight":"bold",color:"teal"}},[e._v(e._s(e.resultTitle))]),t("div",{staticStyle:{"font-weight":"lighter",color:"#99a9bf","font-size":"small"}},[e._v("共找到 "),t("span",{staticStyle:{"font-weight":"bold",color:"teal"}},[e._v(e._s(e.teachers.length))]),e._v("个搜索结果 ")])])]),t("div",{staticClass:"search-result"},e._l(e.teachers.slice((this.curPage-1)*this.pageSize,this.curPage*this.pageSize),(function(s){return e.update?t("teacher-card",{attrs:{teacher:s}}):e._e()})),1),t("div",{staticClass:"page"},[t("el-pagination",{attrs:{background:"","page-size":e.pageSize,"current-page":e.curPage,"hide-on-single-page":"",layout:"prev, pager, next",total:e.teachers.length},on:{"update:currentPage":function(t){e.curPage=t},"update:current-page":function(t){e.curPage=t},"current-change":e.handleCurrentChange}})],1)])},Et=[],Jt=function(){var e=this,t=e._self._c;return t("div",{staticClass:"teacher-card",on:{click:function(t){return e.toTeacherPage(e.t.id)}}},[t("div",[t("el-avatar",{staticStyle:{margin:"auto 20px"},attrs:{size:60,src:e.t.picPath}},[""==e.t.picPath||null==e.t.picPath?t("span",[e._v(e._s(e.t.name))]):e._e()])],1),t("div",[t("div",[e._v(e._s(e.t.name)+"  "),t("el-tag",{attrs:{type:"warning",size:"mini"}},[e._v(e._s(e.t.education))])],1),t("div",{staticStyle:{"font-size":"xx-small","margin-top":"10px",display:"-webkit-box","-webkit-box-orient":"vertical","-webkit-line-clamp":"2",overflow:"hidden"}},[e._v(e._s(e.t.career)+" ")])])])},Gt=[],Xt={name:"TeacherCard",props:{teacher:{}},data(){return{t:this.teacher}},methods:{toTeacherPage(e){this.$router.push({name:"teacherPage",params:{teacherId:e}})},load(){this.$forceUpdate()}}},Yt=Xt,es=(0,n.Z)(Yt,Jt,Gt,!1,null,"99de500e",null),ts=es.exports,ss={name:"TeacherCenter",components:{TeacherCard:ts},data(){return{key:"",resultTitle:"全部讲师",teachers:[],pageSize:15,curPage:1,update:!0}},methods:{searchTeacher(e){if(console.log(this.curPage),""==e){let e=this.$axios({url:"/teacher/findAll",method:"get"});e.then((e=>{this.teachers=e.data,this.resultTitle="全部讲师",this.key=""})).catch((e=>{this.$message.error("你的网络迷路了")}))}else{let t=this.$axios({url:"/teacher/searchTeacher",method:"get",params:{str:e}});t.then((t=>{this.teachers=t.data,this.resultTitle='" '+e+' "搜索结果',this.key=""})).catch((e=>{this.$message.error("你的网络迷路了")}))}},handleCurrentChange(e){console.log("现在是"+this.curPage),this.curPage=e,this.update=!1,this.$nextTick((()=>{this.update=!0}))}},mounted(){this.searchTeacher("")}},as=ss,is=(0,n.Z)(as,Kt,Et,!1,null,"75836162",null),rs=is.exports,os=function(){var e=this,t=e._self._c;return t("div",{staticClass:"teacher-page"},[t("div",{staticClass:"header"},[t("el-avatar",{staticStyle:{margin:"20px"},attrs:{size:70,src:e.teacher.avatarUrl}},[""===e.teacher.avatarUrl?t("span",[e._v(e._s(e.teacher.name))]):e._e()]),t("div",{staticStyle:{"max-width":"85%"}},[t("div",{staticStyle:{"margin-top":"20px"}},[e._v(" "+e._s(e.teacher.name)+"    "),t("el-tag",{attrs:{type:"warning",size:"mini"}},[e._v(e._s(e.teacher.nikeName))])],1),t("div",{staticStyle:{"font-size":"x-small",color:"#999999","margin-top":"20px","margin-bottom":"20px"}},[e._v(" "+e._s(e.teacher.intro)+" ")])])],1),t("div",{staticClass:"body"},[t("div",{staticStyle:{margin:"50px","font-size":"large",color:"teal","font-style":"oblique"}},[e._v("Ta的课程")]),t("div",{staticClass:"result-table"},e._l(e.teacher.courses.slice((e.curPage-1)*e.pageSize,e.curPage*e.pageSize),(function(e){return t("course-card",{attrs:{course:e}})})),1)]),t("div",{staticClass:"footer"},[t("el-pagination",{attrs:{background:"","hide-on-single-page":"","page-size":e.pageSize,"current-page":e.curPage,layout:"prev, pager, next",total:e.teacher.courses.length}})],1)])},ls=[],ns={name:"TeacherPage",components:{CourseCard:_e},data(){return{teacher:{avatarUrl:"",name:"",nikeName:"",intro:"",courses:[]},pageSize:12,curPage:1}},methods:{refreshTeacher(e){let t=this.$axios({url:"/teacher/id",method:"get",params:{id:e}});t.then((e=>{this.teacher.avatarUrl=e.data.picPath,this.teacher.name=e.data.name,this.teacher.nikeName=e.data.education,this.teacher.intro=e.data.career})).catch((e=>{this.$message.error("你的网络迷路了")}));let s=this.$axios({url:"/course/getbyteacher",method:"get",params:{teacherid:e}});s.then((e=>{this.teacher.courses=e.data})).catch((e=>{this.$message.error("你的网络迷路了")}))}},mounted(){this.refreshTeacher(this.$route.params.teacherId)}},cs=ns,us=(0,n.Z)(cs,os,ls,!1,null,"7a48c1f0",null),ds=us.exports,ms=function(){var e=this,t=e._self._c;return t("div",{staticClass:"qa-recommend"},[t("div",{staticClass:"qa-part"},[t("el-tabs",{staticClass:"hot-list",attrs:{type:"border-card"},model:{value:e.$route.params.select,callback:function(t){e.$set(e.$route.params,"select",t)},expression:"$route.params.select"}},[t("el-tab-pane",{attrs:{name:"q"}},[t("div",{staticClass:"title-tag",attrs:{slot:"label"},slot:"label"},[e._v("问题")]),e._l(e.questionList,(function(e){return t("QuestionCard",{attrs:{obj:e,type:"question"}})}))],2),t("el-tab-pane",{attrs:{name:"p"}},[t("div",{staticClass:"title-tag",attrs:{slot:"label"},slot:"label"},[e._v("文章")]),e._l(e.passageList,(function(e){return t("QuestionCard",{attrs:{obj:e,type:"passage"}})}))],2)],1)],1),t("div",{staticClass:"ask-part"},[t("div",[t("el-button",{attrs:{type:"primary",round:"",plain:""},on:{click:e.handleClickMQ}},[t("i",{staticClass:"el-icon-question"}),e._v(" 我的提问 ")])],1),t("div",{staticStyle:{"margin-top":"20px"}},[t("el-button",{attrs:{type:"primary",round:"",plain:""},on:{click:e.handleClickAsk}},[t("i",{staticClass:"el-icon-edit"}),e._v(" 提出问题 ")])],1)]),t("ask-dialog")],1)},hs=[],ps=function(){var e=this,t=e._self._c;return t("div",{staticClass:"card",on:{click:e.clickedM}},[t("el-link",{staticStyle:{"font-size":"18px","font-weight":"bold"},attrs:{underline:!1}},["question"===e.type?t("span",[e._v(e._s(e.dataObj.title))]):e._e(),"passage"===e.type?t("span",[e._v(e._s(e.dataObj.title))]):e._e()]),t("div",{staticClass:"body"},[t("el-link",{attrs:{underline:!1,type:"info"}},["question"===e.type?t("p",{staticClass:"answer-preview"},[e._v(" "+e._s(e.dataObj.content)+" ")]):e._e(),"passage"===e.type?t("p",{staticClass:"answer-preview"},[e._v(" "+e._s(e.dataObj.content)+" ")]):e._e()])],1),t("div",{staticClass:"question-card-footer"},["question"===e.type?t("el-tag",[e._v("   "+e._s(e.dataObj.browseCount)+"次浏览   ")]):e._e(),"passage"===e.type?t("el-tag",[e._v("   "+e._s(e.dataObj.praiseCount)+"点赞   ")]):e._e(),e._v("      "),"question"===e.type?t("el-tag",{attrs:{type:"success"}},[e._v("  "+e._s(e.dataObj.replyCount)+"条答案")]):e._e()],1)],1)},gs=[],fs={name:"QuestionCard",props:{type:{type:String},obj:{}},data(){return{dataObj:this.obj}},methods:{clickedM(){if("question"===this.type){let e=this.$axios({url:"/questions/plusread",method:"get",params:{id:this.dataObj.id}});e.then((e=>{console.log(e)})),this.$router.push({name:"questionPage",query:{qId:this.dataObj.id}})}else"passage"===this.type&&this.$router.push({name:"passagePage",query:{pId:this.dataObj.articleId}})}}},vs=fs,bs=(0,n.Z)(vs,ps,gs,!1,null,"e48fadd4",null),ys=bs.exports,Cs=function(){var e=this,t=e._self._c;return t("el-dialog",{attrs:{visible:e.dialogVisible,center:"","show-close":!1,"append-to-body":"","modal-append-to-body":"",width:"30%"},on:{"update:visible":function(t){e.dialogVisible=t}}},[t("div",{staticStyle:{margin:"0 auto 20px auto",display:"flex","justify-content":"center"}},[t("el-input",{staticStyle:{"margin-right":"10px"},attrs:{maxlength:"30",placeholder:"输入你的问题标题"},model:{value:e.qTitle,callback:function(t){e.qTitle=t},expression:"qTitle"}}),t("el-select",{attrs:{placeholder:"问题分类"},model:{value:e.category,callback:function(t){e.category=t},expression:"category"}},e._l(e.options,(function(e){return t("el-option",{key:e.value,attrs:{label:e.value,value:e.value}})})),1)],1),t("el-input",{ref:"qC",staticStyle:{"margin-bottom":"0"},attrs:{type:"textarea",rows:6,maxlength:"100","show-word-limit":"",placeholder:"输入问题描述"},model:{value:e.qContent,callback:function(t){e.qContent=t},expression:"qContent"}}),t("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[t("el-button",{staticStyle:{"padding-left":"30px","padding-right":"30px","margin-right":"50px"},attrs:{plain:"",type:"primary"},on:{click:function(t){return e.handleClickFooter("ask")}}},[e._v("提问")]),t("el-button",{staticStyle:{"padding-left":"30px","padding-right":"30px"},attrs:{plain:"",type:"info"},on:{click:function(t){return e.handleClickFooter("cancel")}}},[e._v("取消")])],1)],1)},_s=[],$s={name:"AskDialog",data(){return{dialogVisible:!1,qContent:"",qTitle:"",category:"",options:[{value:"闲聊"},{value:"知识"}],question:{cusId:"",title:"",content:"",type:"",status:1}}},methods:{handleClickFooter(e){if("cancel"===e);else if("ask"===e||this.qTitle.length<10){if(this.qContent.length<10)return void this.$message.error("问题标题或描述不能少于10个字");if(""===this.category)return void this.$message.error("请选择问题分类");let e=JSON.parse(window.localStorage.getItem("user"));this.question.content=this.qContent,this.question.cusId=e.userId,this.question.title=this.qTitle,this.question.type=this.category,this.request.post("/questions",this.question).then((e=>{e?(this.$message.success("提问成功"),this.$bus.$emit("refreshQAOMain")):this.$message.error("提问失败")}))}this.qContent="",this.qTitle="",this.category="",this.dialogVisible=!1}},mounted(){this.$bus.$on("openAskDialog",(e=>{this.dialogVisible=!0}))},beforeDestroy(){this.$bus.$off("openAskDialog")}},ws=$s,xs=(0,n.Z)(ws,Cs,_s,!1,null,"4d253b89",null),ks=xs.exports,Ss={name:"QAPMain",components:{QuestionCard:ys,AskDialog:ks},data(){return{questionList:[],passageList:[]}},methods:{handleClickAsk(){let e=window.localStorage.getItem("user");null!==e?this.$bus.$emit("openAskDialog"):this.$message.info("请先登录或注册")},handleClickMQ(){return this.$router.push({name:"personal",query:{select:"question"}}),!0},refreshQuestion(){let e=this.$axios({url:"/questions",method:"get"});e.then((e=>{this.questionList=e.data})).catch((e=>{this.$message.error("你的网络迷路了")}))},refreshPassage(){let e=this.$axios({url:"/article/findAll",method:"get"});e.then((e=>{this.passageList=e.data})).catch((e=>{this.$message.error("你的网络迷路了")}))}},mounted(){this.refreshQuestion(),this.refreshPassage()},beforeDestroy(){this.$bus.$off("scrollToBottom")}},Is=Ss,Ps=(0,n.Z)(Is,ms,hs,!1,null,"532ebab7",null),Ts=Ps.exports,zs=function(){var e=this,t=e._self._c;return t("div",{staticClass:"p-info"},[t("el-descriptions",{staticStyle:{"font-size":"medium"},attrs:{border:"",direction:"vertical",column:1}},[t("el-descriptions-item",{attrs:{label:"用户名"}},[e._v(" "+e._s(e.user.userName)+" "),t("el-link",{staticStyle:{margin:"0 10px"},attrs:{underline:!1,type:"primary"},on:{click:e.changeName}},[e._v("修改 ")])],1),t("el-descriptions-item",{attrs:{label:"性别"}},[1==e.user.sex?t("p",[e._v("男 "),t("el-link",{staticStyle:{margin:"0 10px"},attrs:{underline:!1,type:"primary"},on:{click:e.changeSex}},[e._v("修改 ")])],1):e._e(),2==e.user.sex?t("p",[e._v("女 "),t("el-link",{staticStyle:{margin:"0 10px"},attrs:{underline:!1,type:"primary"},on:{click:e.changeSex}},[e._v("修改 ")])],1):e._e()]),t("el-descriptions-item",{attrs:{label:"年龄"}},[e._v(" "+e._s(e.user.age)+" "),t("el-link",{staticStyle:{margin:"0 10px"},attrs:{underline:!1,type:"primary"},on:{click:e.changeAge}},[e._v("修改 ")])],1),t("el-descriptions-item",{attrs:{label:"邮箱"}},[e._v(" "+e._s(e.user.email)+" "),t("el-link",{staticStyle:{margin:"0 10px"},attrs:{underline:!1,type:"primary"},on:{click:e.changeEmail}},[e._v("修改 ")])],1),t("el-descriptions-item",{attrs:{label:"手机号"}},[e._v(" "+e._s(e.user.mobile)+" "),t("el-link",{staticStyle:{margin:"0 10px"},attrs:{underline:!1,type:"primary"},on:{click:e.changePhone}},[e._v("修改 ")])],1),t("el-descriptions-item",{attrs:{label:"密码",type:"password"}},[e._v(" "+e._s(e.user.password)+" "),t("el-link",{staticStyle:{margin:"0 10px"},attrs:{underline:!1,type:"primary"},on:{click:e.changePwd}},[e._v("修改 ")])],1),t("el-descriptions-item",{attrs:{label:"头像"}},[t("el-avatar",{attrs:{shape:"square",size:60,src:e.user.picImg}}),t("el-link",{staticStyle:{margin:"0 30px"},attrs:{underline:!1,type:"primary"},on:{click:e.changeAvatar}},[e._v("修改 ")])],1)],1),t("el-dialog",{attrs:{visible:e.visible.name,"append-to-body":"","lock-scroll":"",top:"25vh",center:"","modal-append-to-body":"",width:"25%"},on:{"update:visible":function(t){return e.$set(e.visible,"name",t)}}},[t("el-input",{attrs:{placeholder:"请输入新的用户名"},model:{value:e.newUser.name,callback:function(t){e.$set(e.newUser,"name",t)},expression:"newUser.name"}}),t("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[t("el-button",{attrs:{plain:"",type:"primary"},on:{click:e.changeNameConfirm}},[e._v("确 定")])],1)],1),t("el-dialog",{attrs:{visible:e.visible.sex,"append-to-body":"","lock-scroll":"",top:"25vh",center:"","modal-append-to-body":"",width:"25%"},on:{"update:visible":function(t){return e.$set(e.visible,"sex",t)}}},[t("el-radio",{attrs:{label:1},model:{value:e.newUser.sex,callback:function(t){e.$set(e.newUser,"sex",t)},expression:"newUser.sex"}},[e._v("男")]),t("el-radio",{attrs:{label:2},model:{value:e.newUser.sex,callback:function(t){e.$set(e.newUser,"sex",t)},expression:"newUser.sex"}},[e._v("女")]),t("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[t("el-button",{attrs:{plain:"",type:"primary"},on:{click:e.changeSexConfirm}},[e._v("确 定")])],1)],1),t("el-dialog",{attrs:{visible:e.visible.age,"append-to-body":"","lock-scroll":"",top:"25vh",center:"","modal-append-to-body":"",width:"25%"},on:{"update:visible":function(t){return e.$set(e.visible,"age",t)}}},[t("el-input",{attrs:{placeholder:"请输入要修改的年龄"},model:{value:e.newUser.age,callback:function(t){e.$set(e.newUser,"age",t)},expression:"newUser.age"}}),t("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[t("el-button",{attrs:{plain:"",type:"primary"},on:{click:e.changeAgeConfirm}},[e._v("确 定")])],1)],1),t("el-dialog",{attrs:{visible:e.visible.email,"append-to-body":"","lock-scroll":"",top:"25vh",center:"","modal-append-to-body":"",width:"25%"},on:{"update:visible":function(t){return e.$set(e.visible,"email",t)}}},[t("el-input",{attrs:{placeholder:"请输入新的邮箱"},model:{value:e.newUser.email,callback:function(t){e.$set(e.newUser,"email",t)},expression:"newUser.email"}}),t("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[t("el-button",{attrs:{plain:"",type:"primary"},on:{click:e.changeEmailConfirm}},[e._v("确 定")])],1)],1),t("el-dialog",{attrs:{visible:e.visible.phone,"append-to-body":"","close-on-click-modal":!1,"lock-scroll":"",top:"25vh",center:"","modal-append-to-body":"",width:"25%"},on:{"update:visible":function(t){return e.$set(e.visible,"phone",t)}}},[t("el-input",{staticStyle:{margin:"20px 0"},attrs:{disabled:e.codeIsRight,placeholder:"请输入新的手机号"},model:{value:e.newUser.phone,callback:function(t){e.$set(e.newUser,"phone",t)},expression:"newUser.phone"}},[t("template",{slot:"append"},[0===e.sendCoolDown?t("el-button",{attrs:{plain:"",type:"primary"},on:{click:e.sendCode}},[e._v("发送验证码 ")]):e._e(),0!==e.sendCoolDown?t("span",[e._v(e._s(e.sendCoolDown)+"s")]):e._e()],1)],2),t("el-input",{staticStyle:{margin:"20px 0"},attrs:{placeholder:"请输入验证码"},model:{value:e.newUser.code,callback:function(t){e.$set(e.newUser,"code",t)},expression:"newUser.code"}},[t("template",{slot:"append"},[e.codeIsRight?e._e():t("el-button",{attrs:{plain:"",type:"primary"},on:{click:e.vCode}},[e._v(" 验证 ")]),e.codeIsRight?t("span",{staticStyle:{color:"palegreen"}},[e._v("验证成功")]):e._e()],1)],2),t("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[t("el-button",{attrs:{plain:"",type:"primary"},on:{click:e.changePhoneConfirm}},[e._v("确 定")])],1)],1),t("el-dialog",{attrs:{visible:e.visible.pwd,"append-to-body":"","close-on-click-modal":!1,"lock-scroll":"",top:"25vh",center:"","modal-append-to-body":"",width:"25%"},on:{"update:visible":function(t){return e.$set(e.visible,"pwd",t)}}},[t("el-input",{staticStyle:{margin:"20px 0"},attrs:{"show-password":"",placeholder:"请输入新的密码"},model:{value:e.newUser.pwd,callback:function(t){e.$set(e.newUser,"pwd",t)},expression:"newUser.pwd"}}),t("el-input",{staticStyle:{margin:"20px 0"},attrs:{"show-password":"",placeholder:"请再次输入新密码"},model:{value:e.newUser.pwdR,callback:function(t){e.$set(e.newUser,"pwdR",t)},expression:"newUser.pwdR"}}),t("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[t("el-button",{attrs:{plain:"",type:"primary"},on:{click:e.changePwdConfirm}},[e._v("确 定")])],1)],1),t("el-dialog",{attrs:{visible:e.visible.avatar,"append-to-body":"","close-on-click-modal":!1,"lock-scroll":"",top:"25vh",center:"",width:"max-content","modal-append-to-body":""},on:{"update:visible":function(t){return e.$set(e.visible,"avatar",t)}}},[t("el-upload",{staticClass:"avatar-uploader",attrs:{action:"http://localhost:8081/file/upload",drag:!0,"show-file-list":!1,data:{filetype:"picture"},"on-success":e.handleAvatarSuccess}},[e.imageUrl?t("img",{staticClass:"avatar",attrs:{src:e.imageUrl}}):t("i",{staticClass:"el-icon-plus avatar-uploader-icon"})])],1)],1)},Ns=[],qs={name:"PInfo",data(){return{user:{},phoneDisable:!1,visible:{name:!1,phone:!1,pwd:!1,avatar:!1,sex:!1,email:!1,age:!1},sendCoolDown:0,codeIsRight:!1,imageUrl:"",newUser:{name:"",phone:"",code:"",codeR:"",pwd:"",pwdR:"",sex:"",age:"",email:""}}},mounted(){let e=window.localStorage.getItem("user");this.user=JSON.parse(e)},methods:{vCode(){this.newUser.code==this.newUser.codeR?this.codeIsRight=!0:this.$message.error("验证失败")},changeName(){this.visible.name=!0},changeNameConfirm(){if(this.newUser.name===this.user.userName)this.$message.error("与旧用户名相同");else{this.user.userName=this.newUser.name;let e=this.$axios({url:"/user/updateUser",method:"post",data:this.user});e.then((e=>{"200"==e.data.code?(this.reloadUser(),this.newUser.name="",this.visible.name=!1,this.$message.success("用户名修改成功")):this.$message.error(e.data.message)})).catch((e=>{this.$message.error("你的网络迷路了")}))}this.reloadUser()},changeAge(){this.visible.age=!0},changeAgeConfirm(){if(this.newUser.age<"0")this.$message.error("请输入合适的年龄");else if(this.newUser.age===this.user.age)this.$message.error("与原有年龄相同");else{this.user.age=this.newUser.age;let e=this.$axios({url:"/user/updateUser",method:"post",data:this.user});e.then((e=>{"200"==e.data.code?(this.reloadUser(),this.newUser.age="",this.visible.age=!1,this.$message.success("年龄修改成功")):this.$message.error(e.data.message)})).catch((e=>{this.$message.error("你的网络迷路了")}))}},changeEmail(){this.visible.email=!0},changeEmailConfirm(){if(this.newUser.email.match(/^\w+@\w+\.\w+$/i))if(this.newUser.email===this.user.email)this.$message.error("与原有邮箱相同");else{this.user.email=this.newUser.email;let e=this.$axios({url:"/user/updateUser",method:"post",data:this.user});e.then((e=>{"200"==e.data.code?(this.reloadUser(),this.newUser.email="",this.visible.email=!1,this.$message.success("邮箱修改成功")):this.$message.error(e.data.message)})).catch((e=>{this.$message.error("你的网络迷路了")}))}else this.$message.error("请输入正确的邮箱")},changeSex(){this.visible.sex=!0},changeSexConfirm(){if(this.newUser.sex===this.user.sex)this.$message.error("与原有性别相同");else{this.user.sex=this.newUser.sex;let e=this.$axios({url:"/user/updateUser",method:"post",data:this.user});e.then((e=>{"200"==e.data.code?(this.reloadUser(),this.newUser.sex="",this.visible.sex=!1,this.$message.success("性别修改成功")):this.$message.error(e.data.message)})).catch((e=>{this.$message.error("你的网络迷路了")}))}},sendCode(){let e=this.$axios({url:"/user/sendCode",method:"get",params:{mobile:this.newUser.phone}});e.then((e=>{this.$message.success("已发送验证码"),this.newUser.codeR=e.data,console.log(e.data),this.sendCoolDown=60;let t=setInterval((()=>{0===this.sendCoolDown?clearInterval(t):this.sendCoolDown--}),1e3)})).catch((e=>{this.$message.error("你的网络迷路了")}))},changePhone(){this.visible.phone=!0},changePhoneConfirm(){if(!this.codeIsRight)return void this.$message.error("请先验证手机号");this.user.mobile=this.newUser.phone;let e=this.$axios({url:"/user/updateUser",method:"post",data:this.user});e.then((e=>{"200"==e.data.code?(this.$message.success("手机号修改成功"),this.reloadUser(),this.newUser.phone="",this.newUser.code="",this.newUser.codeR="",this.codeIsRight=!1,this.sendCoolDown=0,this.visible.phone=!1):(this.$message.error("手机号已被注册"),this.newUser.code="",this.newUser.codeR="",this.codeIsRight=!1,this.sendCoolDown=0)})).catch((e=>{this.$message.error("你的网络迷路了")}))},changePwd(){this.visible.pwd=!0},changePwdConfirm(){if(this.newUser.pwdR===this.newUser.pwd)if(this.newUser.pwd.length<8)this.$message.error("密码至少8位");else{this.user.password=this.newUser.pwd;let e=this.$axios({url:"/user/updateUser",method:"post",data:this.user});e.then((e=>{"200"==e.data.code?(this.$message.success("修改密码成功"),this.reloadUser()):this.$message.error("修改密码失败")})).catch((e=>{this.$message.error("你的网络迷路了")})),this.newUser.pwdR="",this.newUser.pwd="",this.visible.pwd=!1}else this.$message.error("两次密码不同")},changeAvatar(){this.visible.avatar=!0},handleAvatarSuccess(e,t){this.imageUrl=e;let s=this.user.picImg;this.request.get("/file/removeFile",{params:{url:s}}).then((e=>{console.log(e)})),this.user.picImg=this.imageUrl,this.request.post("/user/updateUser",this.user).then((e=>{"200"==e.code?(this.$message.success(e.message),this.reloadUser()):this.$message.error(e.message)}))},reloadUser(){let e=this.$axios({url:"/user/findOne",method:"get",params:{id:this.user.userId}});e.then((e=>{let t=e.data;window.localStorage.removeItem("user"),window.localStorage.setItem("user",JSON.stringify(t)),this.user=t,this.$bus.$emit("AuthorizationChanged")})).catch((e=>{this.$message.error("你的网络迷路了")}))}}},Ls=qs,As=(0,n.Z)(Ls,zs,Ns,!1,null,"5bc8d563",null),Os=As.exports,Fs=function(){var e=this,t=e._self._c;return t("div",{staticClass:"history"},[t("div",{staticClass:"header"},[t("el-input",{staticClass:"input-with-select",attrs:{placeholder:"搜索历史记录"},model:{value:e.searchKey,callback:function(t){e.searchKey=t},expression:"searchKey"}}),t("el-button",{staticStyle:{margin:"0 50px"},on:{click:e.deleteAll}},[e._v("清除所有记录")])],1),t("div",{staticClass:"content"},e._l(e.historyList,(function(e){return t("course-record",{key:e.id,attrs:{courseP:e}})})),1)])},Us=[],Ds=function(){var e=this,t=e._self._c;return t("div",{directives:[{name:"show",rawName:"v-show",value:e.display,expression:"display"}],staticClass:"course-record",on:{click:function(t){return e.$router.push({name:"course",params:{courseId:e.course.courseId}})}}},[t("el-image",{ref:"img",staticClass:"radius-img",staticStyle:{width:"200px",height:"120px"},attrs:{src:e.coursedetail.logo,fit:"fill"}}),t("div",{staticClass:"right"},[t("div",{staticClass:"center-part"},[t("div",{staticClass:"title",attrs:{underline:!1}},[e._v(" "+e._s(e.coursedetail.courseName)+" ")]),t("div",{staticClass:"center-footer"},["history"===e.type?t("div",[e._v(e._s(e.course.time.split("T")[0])+"  "+e._s(e.course.time.split("T")[1])+" ")]):e._e(),"star"===e.type?t("div",[e._v("收藏于   "+e._s(e.course.addTime.split("T")[0])+"  "+e._s(e.course.addTime.split("T")[1]))]):e._e(),t("div",{staticClass:"teacher"},[t("el-avatar",{attrs:{size:30,src:e.teacher.picPath}},[""==e.teacher.picPath||null==e.teacher.picPath?t("span",[e._v(e._s(e.teacher.name))]):e._e()]),e._v("    "+e._s(e.teacher.name)+" ")],1)])]),t("div",{staticClass:"delete"},[t("el-button",{attrs:{type:"info",icon:"el-icon-delete",circle:""},on:{click:function(t){return t.stopPropagation(),e.handleDelete.apply(null,arguments)}}})],1)])],1)},Rs=[],Ms={name:"CourseRecord",props:{type:{default:"history",type:String},courseP:{}},data(){return{sK:"",course:this.courseP,coursedetail:{courseId:0,courseName:"",isAvailable:0,addTime:"",timeLong:"",title:"",logo:"",type:"",pageViewcount:0,praiseCount:0,commentNum:0,teacherId:0},teacher:{id:0,name:"",education:"",career:"",isStar:0,picPath:"",status:0,createTime:null,subjectId:0,sort:0},display:!0}},methods:{handleDelete(){if("history"===this.type){let e=this.$axios({url:"/coursehistory/delete",method:"post",data:this.course});e.then((e=>{"200"==e.data.code?(this.$message.success("删除成功"),this.$bus.$emit("refreshHistory")):this.$message.error("删除失败")})).catch((e=>{this.$message.error("你的网络迷路了")}))}else if("star"===this.type){let e=this.$axios({url:"/coursefavorite/delete",method:"post",data:this.course});e.then((e=>{"200"==e.data.code?(this.$message.success("删除成功"),this.$bus.$emit("refreshStar")):this.$message.error("删除失败")})).catch((e=>{this.$message.error("你的网络迷路了")}))}}},mounted(){this.$bus.$on("KeyChanged",(e=>{this.sK=e,console.log(this.sK),this.coursedetail.courseName.indexOf(this.sK)>=0||""==this.sK?this.display=!0:this.display=!1}));let e=this.$axios({url:"/course/getById",method:"get",params:{id:this.course.courseId}});e.then((e=>{this.coursedetail=e.data;let t=this.$axios({url:"/teacher/id",method:"get",params:{id:this.coursedetail.teacherId}});t.then((e=>{this.teacher=e.data})).catch((e=>{this.$message.error("你的网络迷路了")}))})).catch((e=>{this.$message.error("你的网络迷路了")}))},beforeDestroy(){this.$bus.$off("KeyChanged")}},js=Ms,Vs=(0,n.Z)(js,Ds,Rs,!1,null,"089f3924",null),Zs=Vs.exports,Ws={name:"History",data(){return{searchKey:"",historyList:[],listToDisplay:[]}},watch:{searchKey(e){this.$bus.$emit("KeyChanged",e)}},components:{CourseRecord:Zs},methods:{refreshHistory(){let e=window.localStorage.getItem("user");e=JSON.parse(e);let t=this.$axios({url:"/coursehistory/getbyuserid",method:"get",params:{userid:e.userId}});t.then((e=>{this.historyList=e.data,this.listToDisplay=this.historyList})).catch((e=>{this.$message.error("你的网络迷路了")}))},handleSearch(e){},deleteAll(){let e=JSON.parse(window.localStorage.getItem("user")),t=this.$axios({url:"/coursehistory/deletebyuserid",method:"get",data:{userid:e.userId}});t.then((e=>{"200"==e.data.code?(this.searchKey="",this.refreshHistory(),this.$message.success("已删除所有历史记录")):this.$message.error(e.data.message)})).catch((e=>{this.$message.error("你的网络迷路了")}))}},mounted(){this.refreshHistory(),this.$bus.$on("refreshHistory",(e=>{this.refreshHistory()}))},beforeDestroy(){this.$bus.$off("refreshHistory")}},Bs=Ws,Qs=(0,n.Z)(Bs,Fs,Us,!1,null,"1cd04e9c",null),Hs=Qs.exports,Ks=function(){var e=this,t=e._self._c;return t("div",{staticClass:"star"},[t("div",{staticClass:"header"},[t("el-input",{staticClass:"input-with-select",attrs:{placeholder:"搜索已收藏课程"},model:{value:e.searchKey,callback:function(t){e.searchKey=t},expression:"searchKey"}})],1),t("div",{staticClass:"content"},e._l(e.listToDisplay,(function(e){return t("course-record",{key:e.id,attrs:{courseP:e,type:"star"}})})),1)])},Es=[],Js={name:"Star",components:{CourseRecord:Zs},data(){return{searchKey:"",starList:[],listToDisplay:[]}},watch:{searchKey(e){this.$bus.$emit("KeyChanged",e)}},methods:{refreshStar(){let e=window.localStorage.getItem("user");e=JSON.parse(e);let t=this.$axios({url:"/coursefavorite/getbyuserid",method:"get",params:{userid:e.userId}});t.then((e=>{this.starList=e.data,this.listToDisplay=this.starList})).catch((e=>{this.$message.error("你的网络迷路了")}))},handleSearch(e){}},mounted(){this.refreshStar(),this.$bus.$on("refreshStar",(e=>{this.refreshStar()}))},beforeDestroy(){this.$bus.$off("refreshStar")}},Gs=Js,Xs=(0,n.Z)(Gs,Ks,Es,!1,null,"4b106522",null),Ys=Xs.exports,ea=function(){var e=this,t=e._self._c;return t("div",{staticClass:"message-center"},[t("div",{staticClass:"contact-list"},[e._m(0),t("div",{staticClass:"friends-list"},[0!=e.SysMessages.length?t("friend-card",{attrs:{typer:"system"}}):e._e(),e._l(e.allMessages,(function(e){return t("friend-card",{key:e.friendId,attrs:{typer:"receive",obj:e}})}))],2)]),t("div",{staticClass:"chat-window"},[t("div",{staticClass:"chat-header"},[t("span",{staticStyle:{color:"#353636","font-size":"small"}},[e._v(e._s(e.name))])]),t("div",{staticClass:"chat-content"},e._l(e.curChatObj,(function(s){return t("message",{key:s,attrs:{msg:s,typer:e.type}})})),1),t("div",{staticClass:"chat-input"},[t("el-input",{attrs:{type:"text",placeholder:"请输入内容",maxlength:"50","show-word-limit":""},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.sendMsg.apply(null,arguments)}},model:{value:e.text,callback:function(t){e.text=t},expression:"text"}},[t("template",{slot:"append"},["system"!=e.type?t("el-button",{on:{click:e.sendMsg}},[e._v("发送")]):e._e()],1)],2)],1)])])},ta=[function(){var e=this,t=e._self._c;return t("div",{staticClass:"friends-header"},[t("span",{staticStyle:{"margin-left":"50px",color:"#6A6A6A","font-size":"x-small"}},[e._v("近期消息")])])}],sa=function(){var e=this,t=e._self._c;return t("div",{staticClass:"friend-card",on:{click:e.changeChatWindow}},["receive"==e.type?t("el-avatar",{staticStyle:{margin:"0 10px 0 20px"},attrs:{src:e.friend.picImg}},[""==e.friend.picImg||null==e.friend.picImg?t("span",[e._v(e._s(e.friend.userName))]):e._e()]):e._e(),"system"==e.type?t("el-avatar",{staticStyle:{margin:"0 10px 0 20px"}},[t("span",[e._v("系")])]):e._e(),"receive"==e.type?t("span",{staticStyle:{"font-weight":"lighter","font-size":"x-small"}},[e._v(" "+e._s(e.friend.userName)+" ")]):e._e(),"system"==e.type?t("span",{staticStyle:{"font-weight":"lighter","font-size":"x-small"}},[e._v(" 系统消息 ")]):e._e(),0!==e.unCheckedCnt?t("el-badge",{staticStyle:{"margin-left":"5px"},attrs:{"is-dot":""}}):e._e()],1)},aa=[],ia={name:"FriendCard",props:{obj:{},typer:""},data(){return{message:this.obj,type:this.typer,friend:{},unCheckedCnt:0,user:{}}},methods:{changeChatWindow(){if("system"==this.type){let e=this.$axios({url:"/msgsystem/readall",method:"get",params:{userId:this.user.userId}});e.then((e=>{0!=this.unCheckedCnt&&this.$bus.$emit("clearUnCheckedCnt",-1),this.unCheckedCnt=0})).catch((e=>{this.$message.error("你的网络迷路了")})),this.$bus.$emit("changeChatWindow",-1)}else{let e=this.$axios({url:"/msgreceive/readone",method:"get",params:{cusId:this.friend.userId,userId:this.user.userId}});e.then((e=>{0!==this.unCheckedCnt&&this.$bus.$emit("clearUnCheckedCnt",this.friend.userId),this.unCheckedCnt=0})).catch((e=>{this.$message.error("你的网络迷路了")})),this.$bus.$emit("changeChatWindow",this.friend.userId)}}},mounted(){let e=window.localStorage.getItem("user");if(this.user=JSON.parse(e),"receive"==this.type){let e=this.$axios({url:"/msgreceive/getbyid",method:"get",params:{id:this.user.userId}});e.then((e=>{this.unCheckedCnt=e.data.length})).catch((e=>{this.$message.error("你的网络迷路了")})),this.request.get("/user/findOne",{params:{id:this.message.cusId}}).then((e=>{this.friend=e}))}else this.request.get("/msgsystem/getbyid",{params:{id:this.user.userId}}).then((e=>{console.log(e),this.unCheckedCnt=e.length}))}},ra=ia,oa=(0,n.Z)(ra,sa,aa,!1,null,"fa4ca480",null),la=oa.exports,na=function(){var e=this,t=e._self._c;return t("div",{staticClass:"message"},[t("div",{staticClass:"time"},[e._v(" "+e._s(e.message.addTime)+" ")]),t("div",{ref:"mb"},["system"==e.type?t("el-avatar",{staticStyle:{margin:"0 10px 0 20px"}},[t("span",[e._v("系")])]):e._e(),"receive"==e.type?t("el-avatar",{staticStyle:{margin:"0 10px",order:"1"},attrs:{size:40,src:e.sender.picImg}},[""==e.sender.picImg||null==e.sender.picImg?t("span",[e._v(" "+e._s(e.sender.userName)+" ")]):e._e()]):e._e(),t("div",{ref:"mc",staticClass:"message-content",staticStyle:{order:"2"}},[e._v(" "+e._s(e.message.content)+" ")])],1)])},ca=[],ua={name:"Message",props:{msg:{},typer:""},data(){return{message:this.msg,user:{},sender:{},type:this.typer}},mounted(){this.request.get("/user/findOne",{params:{id:this.message.cusId}}).then((e=>{this.sender=e})),this.user=JSON.parse(window.localStorage.getItem("user")),"system"==this.type?(this.$refs.mc.className="message-content",this.$refs.mb.className="message-box-left"):this.user.id===this.msg.cusId?(this.$refs.mc.className="message-content-self",this.$refs.mb.className="message-box-right"):(this.$refs.mc.className="message-content",this.$refs.mb.className="message-box-left")}},da=ua,ma=(0,n.Z)(da,na,ca,!1,null,"71f74daf",null),ha=ma.exports,pa={name:"MessageCenter",components:{FriendCard:la,Message:ha},data(){return{text:"",SysMessages:[],allMessages:[],curChatObj:{},name:"系统消息",user:{},type:"system"}},methods:{getUserMessage(){let e=this.$axios({url:"/msgsystem/getbyid",method:"get",params:{id:this.user.userId}});e.then((e=>{this.SysMessages=e.data,this.curChatObj=this.SysMessages})).catch((e=>{this.$message.error("你的网络迷路了")}));let t=this.$axios({url:"/msgreceive/getbyid",method:"get",params:{id:this.user.userId}});t.then((e=>{this.allMessages=e.data})).catch((e=>{this.$message.error("你的网络迷路了")}))},sendMsg(){if(0==this.text.length)return;let e=this.$axios({url:"/msgreceive/add",method:"get",params:{cusId:this.user.userId,receiveId:this.curChatObj[0].cusId,content:this.text}});e.then((e=>{e.data?this.text="":this.$message.error("消息发送失败")})).catch((e=>{this.$message.error("你的网络迷路了")}))}},mounted(){this.user=JSON.parse(window.localStorage.getItem("user")),this.getUserMessage(),this.$bus.$on("changeChatWindow",(e=>{-1==e?(this.curChatObj=this.SysMessages,this.name="系统消息",this.type="system"):(this.request.get("/msgreceive/getcus",{params:{cusId:e,userId:this.user.userId}}).then((e=>{this.curChatObj=e,this.type="receive"})),this.request.get("/user/findOne",{params:{id:e}}).then((e=>{this.name=e.userName})))}))},beforeDestroy(){this.$bus.$off("changeChatWindow")}},ga=pa,fa=(0,n.Z)(ga,ea,ta,!1,null,"6234401e",null),va=fa.exports,ba=function(){var e=this,t=e._self._c;return t("div",{staticClass:"my-question"},e._l(e.questionList,(function(e){return t("question-record",{key:e.id,attrs:{obj:e}})})),1)},ya=[],Ca=function(){var e=this,t=e._self._c;return t("div",{staticClass:"question-record"},[t("div",{staticClass:"q-info",on:{click:e.handleClick}},[t("el-link",{staticClass:"question-title",attrs:{underline:!1}},[e._v(" "+e._s(e.question.title)+" ")]),t("div",{staticClass:"time-reply",staticStyle:{"font-size":"small",color:"#999999"}},[t("div",[e._v(e._s(e.question.addTime.split("T")[0])+"  "+e._s(e.question.addTime.split("T")[1].split(":")[0])+":"+e._s(e.question.addTime.split("T")[1].split(":")[1])+"  提出")]),t("div",[e._v("共"+e._s(e.question.replyCount)+"条回复")])])],1),t("div",{staticClass:"delete",on:{click:e.handleDelete}},[t("el-button",[e._v("删除提问")])],1)])},_a=[],$a={name:"QuestionRecord",props:{obj:{}},data(){return{question:this.obj}},methods:{handleClick(){this.$router.push({name:"questionPage",query:{qId:this.question.id}})},handleDelete(){let e=this.$axios({url:"/questions/delete",method:"get",params:{id:this.question.id}});e.then((e=>{this.$message.success("删除成功"),this.$bus.$emit("refreshQ")})).catch((e=>{this.$message.error("你的网络迷路了")}))}}},wa=$a,xa=(0,n.Z)(wa,Ca,_a,!1,null,"3d2f0c10",null),ka=xa.exports,Sa={name:"MyQuestion",components:{QuestionRecord:ka},data(){return{questionList:{}}},methods:{refreshMyQuestion(){let e=JSON.parse(window.localStorage.getItem("user")),t=this.$axios({url:"/questions/getbyuserid",method:"get",params:{userid:e.userId}});t.then((e=>{this.questionList=e.data})).catch((e=>{this.$message.error("你的网络迷路了")}))}},mounted(){this.refreshMyQuestion(),this.$bus.$on("refreshQ",(e=>{this.refreshMyQuestion()}))},beforeDestroy(){this.$bus.$off("refreshQ")}},Ia=Sa,Pa=(0,n.Z)(Ia,ba,ya,!1,null,"03657683",null),Ta=Pa.exports,za=function(){var e=this,t=e._self._c;return t("div",{staticClass:"homeBox"},[t("el-container",{staticStyle:{height:"100%",border:"1px solid #eee"}},[t("el-aside",{staticStyle:{"background-color":"rgb(238, 241, 246)"},attrs:{width:"200px"}},[t("el-menu",{staticClass:"el-menu-vertical-demo",attrs:{"default-active":"4"},on:{open:e.handleOpen,close:e.handleClose}},[t("el-menu-item",{attrs:{index:"1"},on:{click:e.gotoMember}},[t("span",{attrs:{slot:"title"},slot:"title"},[e._v("用户管理")])]),t("el-menu-item",{attrs:{index:"2"},on:{click:e.gotoTeacher}},[t("span",{attrs:{slot:"title"},slot:"title"},[e._v("讲师管理")])]),t("el-menu-item",{attrs:{index:"3"},on:{click:e.gotoLesson}},[t("span",{attrs:{slot:"title"},slot:"title"},[e._v("课程管理")])]),t("el-menu-item",{attrs:{index:"4"},on:{click:e.gotoArticle}},[t("span",{attrs:{slot:"title"},slot:"title"},[e._v("文章管理")])]),t("el-menu-item",{attrs:{index:"5"},on:{click:e.gotoQA}},[t("span",{attrs:{slot:"title"},slot:"title"},[e._v("问答管理")])]),t("el-menu-item",{attrs:{index:"6"},on:{click:e.gotoNotice}},[t("span",{attrs:{slot:"title"},slot:"title"},[e._v("通知管理")])]),t("el-menu-item",{attrs:{index:"7"},on:{click:e.gotoHome}},[t("span",{attrs:{slot:"title"},slot:"title"},[e._v("退出")])])],1)],1),t("el-container",[t("el-header",[t("span",{staticStyle:{"text-align":"left","font-size":"25px"}},[e._v("管理员")]),t("el-button",{staticStyle:{float:"right",margin:"10px 10px"},attrs:{type:"primary",round:""},on:{click:e.addArticle}},[e._v("添加文章")])],1),t("el-main",[t("el-table",{staticStyle:{width:"100%"},attrs:{data:e.tableData.slice((e.currentPage-1)*e.pageSize,e.currentPage*e.pageSize)}},[t("el-table-column",{attrs:{fixed:"",prop:"articleId",label:"文章ID",width:"100"}}),t("el-table-column",{attrs:{prop:"title",label:"标题",width:"160"}}),t("el-table-column",{attrs:{prop:"keyWord",label:"关键词",width:"120  "}}),t("el-table-column",{attrs:{prop:"createTime",label:"创建时间",width:"120"}}),t("el-table-column",{attrs:{prop:"clickNum",label:"点击数量",width:"120"}}),t("el-table-column",{attrs:{prop:"praiseCount",label:"点赞数",width:"120"}}),t("el-table-column",{attrs:{prop:"articleType",label:"文章类型",width:"100"},scopedSlots:e._u([{key:"default",fn:function(s){return[t("el-tag",{attrs:{"close-transition":""}},[e._v(e._s(s.row.articleType))])]}}])}),t("el-table-column",{attrs:{label:"操作",width:"100"},scopedSlots:e._u([{key:"default",fn:function(s){return[t("el-button",{attrs:{type:"text",size:"small"},on:{click:function(t){return e.handleClick(s.row)}}},[e._v("查看")]),t("el-button",{attrs:{type:"text",size:"small"},on:{click:function(t){return e.deleteMember(s.row)}}},[e._v("删除")])]}}])})],1)],1),t("div",{staticStyle:{"text-align":"center"}},[t("el-footer",{staticClass:"block"},[t("span",{staticClass:"demonstration"}),t("el-pagination",{attrs:{"page-sizes":e.pageSizes,"current-page":e.currentPage,"page-size":e.pageSize,layout:"total, sizes, prev, pager, next, jumper",total:e.totalCount},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange,"update:currentPage":function(t){e.currentPage=t},"update:current-page":function(t){e.currentPage=t}}})],1)],1)],1)],1)],1)},Na=[],qa={inject:["reload"],name:"Article_Manage",activated:function(){this.getCase()},mounted(){this.fetchData()},data(){return{currentPage:1,pageSize:5,totalCount:1,pageSizes:[5,10],tableData:[]}},methods:{gotoMember(){this.$router.push("/member_manage")},gotoTeacher(){this.$router.push("/teacher_manage")},gotoLesson(){this.$router.push("/lesson_manage")},gotoArticle(){this.$router.push("/article_manage")},gotoQA(){this.$router.push("/qa_manage")},gotoNotice(){this.$router.push("/notice_manage")},gotoHome(){this.$router.push("/home")},handleSizeChange(e){this.pageSize=e,this.currentPage=1,console.log(`每页 ${e} 条`)},handleCurrentChange(e){this.currentPage=e,console.log(`当前页: ${e}`)},handleOpen(e,t){console.log(e,t)},handleClose(e,t){console.log(e,t)},handleClick(e){console.log(e),this.$router.push({name:"modify_article_manage",query:{pId:e.articleId}})},formatter(e,t){},filterTag(e,t){return t.articleType===e},deleteMember(e){console.log(e),this.$confirm("是否确认删除该文章?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((()=>{this.$axios.get("/article/delete",{params:{articleId:e.articleId}}).then((e=>{this.$message({type:"success",message:"删除成功"}),this.reload()}))})).catch((()=>{this.$message({type:"info",message:"已取消删除"})}))},addArticle(){this.$router.push("/add_article_manage")},fetchData(){this.$axios.get("/article/findAll").then((e=>{this.tableData=e.data,this.totalCount=e.data.length}),(e=>{console.log("error"),alert("请求失败")}))}}},La=qa,Aa=(0,n.Z)(La,za,Na,!1,null,null,null),Oa=Aa.exports,Fa=function(){var e=this,t=e._self._c;return t("div",{staticClass:"homeBox"},[t("el-container",{staticStyle:{height:"100%",border:"1px solid #eee"}},[t("el-aside",{staticStyle:{"background-color":"rgb(238, 241, 246)"},attrs:{width:"200px"}},[t("el-menu",{staticClass:"el-menu-vertical-demo",attrs:{"default-active":"3"},on:{open:e.handleOpen,close:e.handleClose}},[t("el-menu-item",{attrs:{index:"1"},on:{click:e.gotoMember}},[t("span",{attrs:{slot:"title"},slot:"title"},[e._v("用户管理")])]),t("el-menu-item",{attrs:{index:"2"},on:{click:e.gotoTeacher}},[t("span",{attrs:{slot:"title"},slot:"title"},[e._v("讲师管理")])]),t("el-menu-item",{attrs:{index:"3"},on:{click:e.gotoLesson}},[t("span",{attrs:{slot:"title"},slot:"title"},[e._v("课程管理")])]),t("el-menu-item",{attrs:{index:"4"},on:{click:e.gotoArticle}},[t("span",{attrs:{slot:"title"},slot:"title"},[e._v("文章管理")])]),t("el-menu-item",{attrs:{index:"5"},on:{click:e.gotoQA}},[t("span",{attrs:{slot:"title"},slot:"title"},[e._v("问答管理")])]),t("el-menu-item",{attrs:{index:"6"},on:{click:e.gotoNotice}},[t("span",{attrs:{slot:"title"},slot:"title"},[e._v("通知管理")])]),t("el-menu-item",{attrs:{index:"7"},on:{click:e.gotoHome}},[t("span",{attrs:{slot:"title"},slot:"title"},[e._v("退出")])])],1)],1),t("el-container",[t("el-header",[t("span",{staticStyle:{"text-align":"left","font-size":"25px"}},[e._v("管理员")]),t("el-button",{staticStyle:{float:"right",margin:"10px 10px"},attrs:{type:"primary",round:""},on:{click:e.addLesson}},[e._v("添加课程")])],1),t("el-main",[t("el-table",{staticStyle:{width:"100%"},attrs:{data:e.tableData.slice((e.currentPage-1)*e.pageSize,e.currentPage*e.pageSize)}},[t("el-table-column",{attrs:{fixed:"",prop:"courseId",label:"课程ID",width:"140"}}),t("el-table-column",{attrs:{prop:"teacherId",label:"老师ID",width:"120"}}),t("el-table-column",{attrs:{prop:"courseName",label:"课程名称",width:"120"}}),t("el-table-column",{attrs:{prop:"isAvailable",label:"是否可用",width:"120"},scopedSlots:e._u([{key:"default",fn:function(s){return[0==s.row.isAvailable?t("span",[e._v("否")]):t("span",[e._v("是")])]}}])}),t("el-table-column",{attrs:{prop:"timeLong",label:"课程时间长度",width:"120  "}}),t("el-table-column",{attrs:{prop:"pageViewcount",label:"浏览量",width:"120"}}),t("el-table-column",{attrs:{prop:"type",label:"类型",width:"100",filters:[{text:"rap",value:"rap"},{text:"dance",value:"dance"},{text:"vocal",value:"vocal"}],"filter-method":e.filterTag,"filter-placement":"bottom-end"},scopedSlots:e._u([{key:"default",fn:function(s){return[t("el-tag",{attrs:{"close-transition":""}},[e._v(e._s(s.row.type))])]}}])}),t("el-table-column",{attrs:{label:"操作",width:"100"},scopedSlots:e._u([{key:"default",fn:function(s){return[t("el-button",{attrs:{type:"text",size:"small"},on:{click:function(t){return e.handleClick(s.row)}}},[e._v("查看")]),t("el-button",{attrs:{type:"text",size:"small"},on:{click:function(t){return e.deleteMember(s.row)}}},[e._v("删除")])]}}])})],1)],1),t("div",{staticStyle:{"text-align":"center"}},[t("el-footer",{staticClass:"block"},[t("span",{staticClass:"demonstration"}),t("el-pagination",{attrs:{"page-sizes":e.pageSizes,"current-page":e.currentPage,"page-size":e.pageSize,layout:"total, sizes, prev, pager, next, jumper",total:e.totalCount},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange,"update:currentPage":function(t){e.currentPage=t},"update:current-page":function(t){e.currentPage=t}}})],1)],1)],1)],1)],1)},Ua=[],Da={inject:["reload"],name:"Lesson_Manage",activated:function(){this.getCase()},mounted(){this.fetchData()},data(){return{currentPage:1,pageSize:5,totalCount:1,pageSizes:[5,10],tableData:[]}},methods:{gotoMember(){this.$router.push("/member_manage")},gotoTeacher(){this.$router.push("/teacher_manage")},gotoLesson(){this.$router.push("/lesson_manage")},gotoArticle(){this.$router.push("/article_manage")},gotoQA(){this.$router.push("/qa_manage")},gotoNotice(){this.$router.push("/notice_manage")},gotoHome(){this.$router.push("/home")},handleSizeChange(e){this.pageSize=e,this.currentPage=1,console.log(`每页 ${e} 条`)},handleCurrentChange(e){this.currentPage=e,console.log(`当前页: ${e}`)},handleOpen(e,t){console.log(e,t)},handleClose(e,t){console.log(e,t)},handleClick(e){this.$bus.$emit("courseChanged1",e),this.$router.push({name:"modify_lesson_manage",params:{courseId:e.courseId}})},deleteMember(e){console.log(e),this.$confirm("是否确认删除该课程?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((()=>{this.$axios.get("/course/delete",{params:{courseId:e.courseId}}).then((()=>{this.$message({type:"success",message:"删除成功"}),this.reload()}))})).catch((()=>{this.$message({type:"info",message:"已取消删除"})})),this.reload()},formatter(e,t){},filterTag(e,t){return t.type===e},addLesson(){this.$router.push("/add_lesson_manage")},fetchData(){this.$axios.get("/course").then((e=>{this.tableData=e.data,this.totalCount=e.data.length}),(e=>{console.log("error"),alert("请求失败")}))}}},Ra=Da,Ma=(0,n.Z)(Ra,Fa,Ua,!1,null,null,null),ja=Ma.exports,Va=function(){var e=this,t=e._self._c;return t("div",{staticClass:"homeBox"},[t("el-container",{staticStyle:{height:"100%",border:"1px solid #eee"}},[t("el-aside",{staticStyle:{"background-color":"rgb(238, 241, 246)"},attrs:{width:"200px"}},[t("el-menu",{staticClass:"el-menu-vertical-demo",attrs:{"default-active":"1"},on:{open:e.handleOpen,close:e.handleClose}},[t("el-menu-item",{attrs:{index:"1"},on:{click:e.gotoMember}},[t("span",{attrs:{slot:"title"},slot:"title"},[e._v("用户管理")])]),t("el-menu-item",{attrs:{index:"2"},on:{click:e.gotoTeacher}},[t("span",{attrs:{slot:"title"},slot:"title"},[e._v("讲师管理")])]),t("el-menu-item",{attrs:{index:"3"},on:{click:e.gotoLesson}},[t("span",{attrs:{slot:"title"},slot:"title"},[e._v("课程管理")])]),t("el-menu-item",{attrs:{index:"4"},on:{click:e.gotoArticle}},[t("span",{attrs:{slot:"title"},slot:"title"},[e._v("文章管理")])]),t("el-menu-item",{attrs:{index:"5"},on:{click:e.gotoQA}},[t("span",{attrs:{slot:"title"},slot:"title"},[e._v("问答管理")])]),t("el-menu-item",{attrs:{index:"6"},on:{click:e.gotoNotice}},[t("span",{attrs:{slot:"title"},slot:"title"},[e._v("通知管理")])]),t("el-menu-item",{attrs:{index:"7"},on:{click:e.gotoHome}},[t("span",{attrs:{slot:"title"},slot:"title"},[e._v("退出")])])],1)],1),t("el-container",[t("el-header",{staticStyle:{"text-align":"left","font-size":"25px"}},[t("span",[e._v("管理员")])]),t("el-main",[t("el-table",{staticStyle:{width:"100%"},attrs:{data:e.tableData.slice((e.currentPage-1)*e.pageSize,e.currentPage*e.pageSize)}},[t("el-table-column",{attrs:{fixed:"",prop:"userId",label:"用户ID",width:"120"}}),t("el-table-column",{attrs:{prop:"userName",label:"账号",width:"120"}}),t("el-table-column",{attrs:{prop:"showName",label:"显示名称",width:"120"}}),t("el-table-column",{attrs:{prop:"mobile",label:"手机",width:"120"}}),t("el-table-column",{attrs:{prop:"email",label:"邮箱",width:"150"}}),t("el-table-column",{attrs:{prop:"lastSystemTime",label:"上次登录时间",width:"150"}}),t("el-table-column",{attrs:{prop:"isAvailable",label:"是否可用",width:"80"},scopedSlots:e._u([{key:"default",fn:function(s){return[0==s.row.isAvailable?t("span",[e._v("否")]):t("span",[e._v("是")])]}}])}),t("el-table-column",{attrs:{label:"操作",width:"100"},scopedSlots:e._u([{key:"default",fn:function(s){return[t("el-button",{attrs:{type:"text",size:"small"},on:{click:function(t){return e.handleClick(s.row)}}},[e._v("查看")]),t("el-dialog",{attrs:{title:"详细信息",visible:e.dialogFormVisible,"append-to-body":""},on:{"update:visible":function(t){e.dialogFormVisible=t}}},[t("el-form",{attrs:{model:e.form,id:"form"}},[t("el-form-item",{attrs:{prop:"userId",label:"用户ID","label-width":e.formLabelWidth}},[t("el-input",{attrs:{disabled:!0},model:{value:e.form.userId,callback:function(t){e.$set(e.form,"userId",t)},expression:"form.userId"}})],1),t("el-form-item",{attrs:{prop:"userName",label:"账号","label-width":e.formLabelWidth}},[t("el-input",{attrs:{disabled:!0},model:{value:e.form.userName,callback:function(t){e.$set(e.form,"userName",t)},expression:"form.userName"}})],1),t("el-form-item",{attrs:{prop:"showName",label:"显示名称","label-width":e.formLabelWidth}},[t("el-input",{model:{value:e.form.showName,callback:function(t){e.$set(e.form,"showName",t)},expression:"form.showName"}})],1),t("el-form-item",{attrs:{prop:"mobile",label:"手机","label-width":e.formLabelWidth}},[t("el-input",{model:{value:e.form.mobile,callback:function(t){e.$set(e.form,"mobile",t)},expression:"form.mobile"}})],1),t("el-form-item",{attrs:{prop:"email",label:"邮箱","label-width":e.formLabelWidth}},[t("el-input",{model:{value:e.form.email,callback:function(t){e.$set(e.form,"email",t)},expression:"form.email"}})],1),t("el-form-item",{attrs:{prop:"password",label:"密码","label-width":e.formLabelWidth}},[t("el-input",{model:{value:e.form.password,callback:function(t){e.$set(e.form,"password",t)},expression:"form.password"}})],1),t("el-form-item",{attrs:{prop:"sex",label:"性别","label-width":e.formLabelWidth}},[t("el-radio",{attrs:{label:1},model:{value:e.form.sex,callback:function(t){e.$set(e.form,"sex",t)},expression:"form.sex"}},[e._v("男")]),t("el-radio",{attrs:{label:2},model:{value:e.form.sex,callback:function(t){e.$set(e.form,"sex",t)},expression:"form.sex"}},[e._v("女")])],1),t("el-form-item",{attrs:{prop:"age",label:"年龄","label-width":e.formLabelWidth}},[t("el-input",{model:{value:e.form.age,callback:function(t){e.$set(e.form,"age",t)},expression:"form.age"}})],1),t("el-form-item",{attrs:{prop:"createTime",label:"注册时间","label-width":e.formLabelWidth}},[t("el-input",{attrs:{disabled:!0},model:{value:e.form.createTime,callback:function(t){e.$set(e.form,"createTime",t)},expression:"form.createTime"}})],1),t("el-form-item",{attrs:{prop:"isAvailable",label:"是否可用","label-width":e.formLabelWidth}},[t("el-radio",{attrs:{label:1},model:{value:e.form.isAvailable,callback:function(t){e.$set(e.form,"isAvailable",t)},expression:"form.isAvailable"}},[e._v("是")]),t("el-radio",{attrs:{label:0},model:{value:e.form.isAvailable,callback:function(t){e.$set(e.form,"isAvailable",t)},expression:"form.isAvailable"}},[e._v("否")])],1),t("el-form-item",{attrs:{prop:"picImg",label:"图片链接","label-width":e.formLabelWidth}},[t("el-input",{model:{value:e.form.picImg,callback:function(t){e.$set(e.form,"picImg",t)},expression:"form.picImg"}})],1),t("el-form-item",{attrs:{prop:"msgNum",label:"消息数量","label-width":e.formLabelWidth}},[t("el-input",{model:{value:e.form.msgNum,callback:function(t){e.$set(e.form,"msgNum",t)},expression:"form.msgNum"}})],1),t("el-form-item",{attrs:{prop:"sysMsgNum",label:"系统消息数量","label-width":e.formLabelWidth}},[t("el-input",{model:{value:e.form.sysMsgNum,callback:function(t){e.$set(e.form,"sysMsgNum",t)},expression:"form.sysMsgNum"}})],1),t("el-form-item",{attrs:{prop:"lastSystemTime",label:"上次登录时间","label-width":e.formLabelWidth}},[t("el-input",{attrs:{disabled:!0},model:{value:e.form.lastSystemTime,callback:function(t){e.$set(e.form,"lastSystemTime",t)},expression:"form.lastSystemTime"}})],1)],1),t("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[t("el-button",{on:{click:e.notChange}},[e._v("取 消")]),t("el-button",{attrs:{type:"primary"},on:{click:function(t){e.changeUsermsg(),e.dialogFormVisible=!1}}},[e._v("确 定")])],1)],1),t("el-button",{attrs:{type:"text",size:"small"},on:{click:function(t){return e.deleteMember(s.row)}}},[e._v("删除")])]}}])})],1)],1),t("div",{staticStyle:{"text-align":"center"}},[t("el-footer",{staticClass:"block"},[t("span",{staticClass:"demonstration"}),t("el-pagination",{attrs:{"page-sizes":e.pageSizes,"current-page":e.currentPage,"page-size":e.pageSize,layout:"total, sizes, prev, pager, next, jumper",total:e.totalCount},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange,"update:currentPage":function(t){e.currentPage=t},"update:current-page":function(t){e.currentPage=t}}})],1)],1)],1)],1)],1)},Za=[],Wa={inject:["reload"],name:"Member_Manage",activated:function(){this.getCase()},mounted(){this.fetchData()},data(){return{currentPage:1,pageSize:5,totalCount:1,pageSizes:[5,10],tableData:[],dialogFormVisible:!1,form:{userId:"",userName:"",showName:"",mobile:"",email:"",password:"",sex:"",age:"",createTime:"",isAvailable:"",picImg:"",msgNum:"",sysMsgNum:"",lastSystemTime:""},formLabelWidth:"120px"}},methods:{gotoMember(){this.$router.push("/member_manage")},gotoTeacher(){this.$router.push("/teacher_manage")},gotoLesson(){this.$router.push("/lesson_manage")},gotoArticle(){this.$router.push("/article_manage")},gotoQA(){this.$router.push("/qa_manage")},gotoNotice(){this.$router.push("/notice_manage")},gotoHome(){this.$router.push("/home")},handleSizeChange(e){this.pageSize=e,this.currentPage=1,console.log(`每页 ${e} 条`)},handleCurrentChange(e){this.currentPage=e,console.log(`当前页: ${e}`)},handleOpen(e,t){console.log(e,t)},handleClose(e,t){console.log(e,t)},handleClick(e){console.log(e),this.form=e,this.dialogFormVisible=!0},deleteMember(e){console.log(e),this.$confirm("是否确认删除该用户?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((()=>{this.$axios.post("/user/deleteUser",{userId:e.userId}).then((e=>{this.$message({type:"success",message:"删除成功"}),this.reload()}))})).catch((()=>{this.$message({type:"info",message:"已取消删除"})})),this.reload()},changeUsermsg(){console.log(this.form.userId),this.request.post("/user/updateUser",this.form).then((e=>{"200"==e.code?this.$message.success(e.message):this.$message.error(e.message)})),this.reload()},fetchData(){this.$axios.get("/user").then((e=>{this.tableData=e.data,this.totalCount=e.data.length}),(e=>{console.log("error"),alert("请求失败")}))},notChange(){this.dialogFormVisible=!1,this.reload()}}},Ba=Wa,Qa=(0,n.Z)(Ba,Va,Za,!1,null,null,null),Ha=Qa.exports,Ka=function(){var e=this,t=e._self._c;return t("div",{staticClass:"homeBox"},[t("el-container",{staticStyle:{height:"100%",border:"1px solid #eee"}},[t("el-aside",{staticStyle:{"background-color":"rgb(238, 241, 246)"},attrs:{width:"200px"}},[t("el-menu",{staticClass:"el-menu-vertical-demo",attrs:{"default-active":"5"},on:{open:e.handleOpen,close:e.handleClose}},[t("el-menu-item",{attrs:{index:"1"},on:{click:e.gotoMember}},[t("span",{attrs:{slot:"title"},slot:"title"},[e._v("用户管理")])]),t("el-menu-item",{attrs:{index:"2"},on:{click:e.gotoTeacher}},[t("span",{attrs:{slot:"title"},slot:"title"},[e._v("讲师管理")])]),t("el-menu-item",{attrs:{index:"3"},on:{click:e.gotoLesson}},[t("span",{attrs:{slot:"title"},slot:"title"},[e._v("课程管理")])]),t("el-menu-item",{attrs:{index:"4"},on:{click:e.gotoArticle}},[t("span",{attrs:{slot:"title"},slot:"title"},[e._v("文章管理")])]),t("el-menu-item",{attrs:{index:"5"},on:{click:e.gotoQA}},[t("span",{attrs:{slot:"title"},slot:"title"},[e._v("问答管理")])]),t("el-menu-item",{attrs:{index:"6"},on:{click:e.gotoNotice}},[t("span",{attrs:{slot:"title"},slot:"title"},[e._v("通知管理")])]),t("el-menu-item",{attrs:{index:"7"},on:{click:e.gotoHome}},[t("span",{attrs:{slot:"title"},slot:"title"},[e._v("退出")])])],1)],1),t("el-container",[t("el-header",{staticStyle:{"text-align":"left","font-size":"25px"}},[t("span",[e._v("管理员")])]),t("el-main",[t("el-table",{staticStyle:{width:"100%"},attrs:{data:e.tableData.slice((e.currentPage-1)*e.pageSize,e.currentPage*e.pageSize)}},[t("el-table-column",{attrs:{fixed:"",prop:"id",label:"问答ID",width:"120"}}),t("el-table-column",{attrs:{prop:"cusId",label:"提问者ID",width:"120"}}),t("el-table-column",{attrs:{prop:"title",label:"标题",width:"120"}}),t("el-table-column",{attrs:{prop:"status",label:"状态",width:"120"},scopedSlots:e._u([{key:"default",fn:function(s){return[0==s.row.isAvailable?t("span",[e._v("未回答")]):t("span",[e._v("已回答")])]}}])}),t("el-table-column",{attrs:{prop:"replyCount",label:"回复数量",width:"120  "}}),t("el-table-column",{attrs:{prop:"browseCount",label:"浏览数量",width:"120"}}),t("el-table-column",{attrs:{prop:"type",label:"类型",width:"100",filters:[{text:"美女",value:"美女"},{text:"高中生",value:"高中生"},{text:"帅哥",value:"帅哥"}],"filter-method":e.filterTag,"filter-placement":"bottom-end"},scopedSlots:e._u([{key:"default",fn:function(s){return[t("el-tag",{attrs:{"close-transition":""}},[e._v(e._s(s.row.type))])]}}])}),t("el-table-column",{attrs:{label:"操作",width:"100"},scopedSlots:e._u([{key:"default",fn:function(s){return[t("el-button",{attrs:{type:"text",size:"small"},on:{click:function(t){return e.handleClick(s.row)}}},[e._v("查看")]),t("el-button",{attrs:{type:"text",size:"small"},on:{click:function(t){return e.deleteMember(s.row)}}},[e._v("删除")])]}}])})],1)],1),t("div",{staticStyle:{"text-align":"center"}},[t("el-footer",{staticClass:"block"},[t("span",{staticClass:"demonstration"}),t("el-pagination",{attrs:{"page-sizes":e.pageSizes,"current-page":e.currentPage,"page-size":e.pageSize,layout:"total, sizes, prev, pager, next, jumper",total:e.totalCount},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange,"update:currentPage":function(t){e.currentPage=t},"update:current-page":function(t){e.currentPage=t}}})],1)],1)],1)],1)],1)},Ea=[],Ja={inject:["reload"],name:"QA_Manage",activated:function(){this.getCase()},mounted(){this.fetchData()},data(){return{currentPage:1,pageSize:5,totalCount:1,pageSizes:[5,10],tableData:[]}},methods:{gotoMember(){this.$router.push("/member_manage")},gotoTeacher(){this.$router.push("/teacher_manage")},gotoLesson(){this.$router.push("/lesson_manage")},gotoArticle(){this.$router.push("/article_manage")},gotoQA(){this.$router.push("/qa_manage")},gotoNotice(){this.$router.push("/notice_manage")},gotoHome(){this.$router.push("/home")},handleSizeChange(e){this.pageSize=e,this.currentPage=1,console.log(`每页 ${e} 条`)},handleCurrentChange(e){this.currentPage=e,console.log(`当前页: ${e}`)},handleOpen(e,t){console.log(e,t)},handleClose(e,t){console.log(e,t)},handleClick(e){console.log(e),this.$router.push({name:"modify_qa_manage",query:{qId:e.id}})},deleteMember(e){console.log(e),this.$confirm("是否确认删除该问答?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((()=>{this.$axios.get("/questions/delete",{params:{id:e.id}}).then((()=>{this.$message({type:"success",message:"删除成功"}),this.reload()}))})).catch((()=>{this.$message({type:"info",message:"已取消删除"})}))},formatter(e,t){},filterTag(e,t){return t.type===e},fetchData(){this.$axios.get("/questions").then((e=>{this.tableData=e.data,this.totalCount=e.data.length}),(e=>{console.log("error"),alert("请求失败")}))}}},Ga=Ja,Xa=(0,n.Z)(Ga,Ka,Ea,!1,null,null,null),Ya=Xa.exports,ei=function(){var e=this,t=e._self._c;return t("div",{staticClass:"homeBox"},[t("el-container",{staticStyle:{height:"100%",border:"1px solid #eee"}},[t("el-aside",{staticStyle:{"background-color":"rgb(238, 241, 246)"},attrs:{width:"200px"}},[t("el-menu",{staticClass:"el-menu-vertical-demo",attrs:{"default-active":"2"},on:{open:e.handleOpen,close:e.handleClose}},[t("el-menu-item",{attrs:{index:"1"},on:{click:e.gotoMember}},[t("span",{attrs:{slot:"title"},slot:"title"},[e._v("用户管理")])]),t("el-menu-item",{attrs:{index:"2"},on:{click:e.gotoTeacher}},[t("span",{attrs:{slot:"title"},slot:"title"},[e._v("讲师管理")])]),t("el-menu-item",{attrs:{index:"3"},on:{click:e.gotoLesson}},[t("span",{attrs:{slot:"title"},slot:"title"},[e._v("课程管理")])]),t("el-menu-item",{attrs:{index:"4"},on:{click:e.gotoArticle}},[t("span",{attrs:{slot:"title"},slot:"title"},[e._v("文章管理")])]),t("el-menu-item",{attrs:{index:"5"},on:{click:e.gotoQA}},[t("span",{attrs:{slot:"title"},slot:"title"},[e._v("问答管理")])]),t("el-menu-item",{attrs:{index:"6"},on:{click:e.gotoNotice}},[t("span",{attrs:{slot:"title"},slot:"title"},[e._v("通知管理")])]),t("el-menu-item",{attrs:{index:"7"},on:{click:e.gotoHome}},[t("span",{attrs:{slot:"title"},slot:"title"},[e._v("退出")])])],1)],1),t("el-container",[t("el-header",[t("span",{staticStyle:{"text-align":"left","font-size":"25px"}},[e._v("管理员")]),t("el-button",{staticStyle:{float:"right",margin:"10px 10px"},attrs:{type:"primary",round:""},on:{click:e.addTeacher}},[e._v("添加讲师")]),t("el-dialog",{attrs:{title:"详细信息",visible:e.addNewVisible,"append-to-body":""},on:{"update:visible":function(t){e.addNewVisible=t}}},[t("el-form",{attrs:{model:e.newform}},[t("el-form-item",{attrs:{prop:"id",label:"教师ID","label-width":e.formLabelWidth}},[t("el-input",{model:{value:e.newform.id,callback:function(t){e.$set(e.newform,"id",t)},expression:"newform.id"}})],1),t("el-form-item",{attrs:{prop:"name",label:"名称","label-width":e.formLabelWidth}},[t("el-input",{model:{value:e.newform.name,callback:function(t){e.$set(e.newform,"name",t)},expression:"newform.name"}})],1),t("el-form-item",{attrs:{prop:"education",label:"所属机构","label-width":e.formLabelWidth}},[t("el-input",{model:{value:e.newform.education,callback:function(t){e.$set(e.newform,"education",t)},expression:"newform.education"}})],1),t("el-form-item",{attrs:{prop:"career",label:"简介","label-width":e.formLabelWidth}},[t("el-input",{model:{value:e.newform.career,callback:function(t){e.$set(e.newform,"career",t)},expression:"newform.career"}})],1),t("el-form-item",{attrs:{prop:"isStar",label:"是否推荐","label-width":e.formLabelWidth}},[t("el-radio",{attrs:{label:1},model:{value:e.newform.isStar,callback:function(t){e.$set(e.newform,"isStar",t)},expression:"newform.isStar"}},[e._v("是")]),t("el-radio",{attrs:{label:0},model:{value:e.newform.isStar,callback:function(t){e.$set(e.newform,"isStar",t)},expression:"newform.isStar"}},[e._v("否")])],1),t("el-form-item",{attrs:{prop:"picPath",label:"头像","label-width":e.formLabelWidth}},[t("el-input",{model:{value:e.newform.picPath,callback:function(t){e.$set(e.newform,"picPath",t)},expression:"newform.picPath"}})],1),t("el-form-item",{attrs:{prop:"status",label:"状态","label-width":e.formLabelWidth}},[t("el-radio",{attrs:{label:1},model:{value:e.newform.status,callback:function(t){e.$set(e.newform,"status",t)},expression:"newform.status"}},[e._v("在线")]),t("el-radio",{attrs:{label:0},model:{value:e.newform.status,callback:function(t){e.$set(e.newform,"status",t)},expression:"newform.status"}},[e._v("不在线")])],1),t("el-form-item",{attrs:{prop:"subjectId",label:"分类ID","label-width":e.formLabelWidth}},[t("el-input",{model:{value:e.newform.subjectId,callback:function(t){e.$set(e.newform,"subjectId",t)},expression:"newform.subjectId"}})],1)],1),t("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[t("el-button",{on:{click:function(t){e.addNewVisible=!1}}},[e._v("取 消")]),t("el-button",{attrs:{type:"primary"},on:{click:function(t){e.addTeachermsg(),e.addNewVisible=!1}}},[e._v("确 定")])],1)],1)],1),t("el-main",[t("el-table",{staticStyle:{width:"100%"},attrs:{data:e.tableData.slice((e.currentPage-1)*e.pageSize,e.currentPage*e.pageSize)}},[t("el-table-column",{attrs:{fixed:"",prop:"id",label:"教师ID",width:"120"}}),t("el-table-column",{attrs:{prop:"name",label:"名称",width:"120"}}),t("el-table-column",{attrs:{prop:"education",label:"所属机构",width:"120"}}),t("el-table-column",{attrs:{prop:"isStar",label:"是否推荐",width:"120"},scopedSlots:e._u([{key:"default",fn:function(s){return[0==s.row.isAvailable?t("span",[e._v("否")]):t("span",[e._v("是")])]}}])}),t("el-table-column",{attrs:{prop:"status",label:"状态",width:"120"},scopedSlots:e._u([{key:"default",fn:function(s){return[0==s.row.isAvailable?t("span",[e._v("不在线")]):t("span",[e._v("在线")])]}}])}),t("el-table-column",{attrs:{prop:"createTime",label:"创建时间",width:"120"}}),t("el-table-column",{attrs:{prop:"subjectId",label:"分类ID",width:"120"}}),t("el-table-column",{attrs:{label:"操作",width:"100"},scopedSlots:e._u([{key:"default",fn:function(s){return[t("el-button",{attrs:{type:"text",size:"small"},on:{click:function(t){return e.handleClick(s.row)}}},[e._v("查看")]),t("el-dialog",{attrs:{title:"详细信息",visible:e.dialogFormVisible,"append-to-body":""},on:{"update:visible":function(t){e.dialogFormVisible=t}}},[t("el-form",{attrs:{model:e.form}},[t("el-form-item",{attrs:{prop:"id",label:"教师ID","label-width":e.formLabelWidth}},[t("el-input",{attrs:{disabled:!0},model:{value:e.form.id,callback:function(t){e.$set(e.form,"id",t)},expression:"form.id"}})],1),t("el-form-item",{attrs:{prop:"name",label:"名称","label-width":e.formLabelWidth}},[t("el-input",{attrs:{disabled:!0},model:{value:e.form.name,callback:function(t){e.$set(e.form,"name",t)},expression:"form.name"}})],1),t("el-form-item",{attrs:{prop:"education",label:"所属机构","label-width":e.formLabelWidth}},[t("el-input",{model:{value:e.form.education,callback:function(t){e.$set(e.form,"education",t)},expression:"form.education"}})],1),t("el-form-item",{attrs:{prop:"career",label:"简介","label-width":e.formLabelWidth}},[t("el-input",{model:{value:e.form.career,callback:function(t){e.$set(e.form,"career",t)},expression:"form.career"}})],1),t("el-form-item",{attrs:{prop:"isStar",label:"是否推荐","label-width":e.formLabelWidth}},[t("el-radio",{attrs:{label:1},model:{value:e.form.isStar,callback:function(t){e.$set(e.form,"isStar",t)},expression:"form.isStar"}},[e._v("是")]),t("el-radio",{attrs:{label:0},model:{value:e.form.isStar,callback:function(t){e.$set(e.form,"isStar",t)},expression:"form.isStar"}},[e._v("否")])],1),t("el-form-item",{attrs:{prop:"picPath",label:"头像","label-width":e.formLabelWidth}},[t("el-input",{model:{value:e.form.picPath,callback:function(t){e.$set(e.form,"picPath",t)},expression:"form.picPath"}})],1),t("el-form-item",{attrs:{prop:"status",label:"状态","label-width":e.formLabelWidth}},[t("el-radio",{attrs:{label:1},model:{value:e.form.status,callback:function(t){e.$set(e.form,"status",t)},expression:"form.status"}},[e._v("在线")]),t("el-radio",{attrs:{label:0},model:{value:e.form.status,callback:function(t){e.$set(e.form,"status",t)},expression:"form.status"}},[e._v("不在线")])],1),t("el-form-item",{attrs:{prop:"createTime",label:"创建时间","label-width":e.formLabelWidth}},[t("el-input",{attrs:{disabled:!0},model:{value:e.form.createTime,callback:function(t){e.$set(e.form,"createTime",t)},expression:"form.createTime"}})],1),t("el-form-item",{attrs:{prop:"subjectId",label:"分类ID","label-width":e.formLabelWidth}},[t("el-input",{model:{value:e.form.subjectId,callback:function(t){e.$set(e.form,"subjectId",t)},expression:"form.subjectId"}})],1),t("el-form-item",{attrs:{prop:"sort",label:"排序","label-width":e.formLabelWidth}},[t("el-input",{attrs:{disabled:!0},model:{value:e.form.sort,callback:function(t){e.$set(e.form,"sort",t)},expression:"form.sort"}})],1)],1),t("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[t("el-button",{on:{click:function(t){e.dialogFormVisible=!1}}},[e._v("取 消")]),t("el-button",{attrs:{type:"primary"},on:{click:function(t){e.changeUsermsg(),e.dialogFormVisible=!1}}},[e._v("确 定")])],1)],1),t("el-button",{attrs:{type:"text",size:"small"},on:{click:function(t){return e.deleteMember(s.row)}}},[e._v("删除")])]}}])})],1)],1),t("div",{staticStyle:{"text-align":"center"}},[t("el-footer",{staticClass:"block"},[t("span",{staticClass:"demonstration"}),t("el-pagination",{attrs:{"page-sizes":e.pageSizes,"current-page":e.currentPage,"page-size":e.pageSize,layout:"total, sizes, prev, pager, next, jumper",total:e.totalCount},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange,"update:currentPage":function(t){e.currentPage=t},"update:current-page":function(t){e.currentPage=t}}})],1)],1)],1)],1)],1)},ti=[],si={inject:["reload"],name:"Teacher_Manage",activated:function(){this.getCase()},mounted(){this.fetchData()},data(){return{tableData:[],currentPage:1,pageSize:5,totalCount:1,pageSizes:[5,10],dialogFormVisible:!1,addNewVisible:!1,form:{id:"",name:"",education:"",career:"",isStar:"",picPath:"",status:"",createTime:"",subjectId:"",sort:""},newform:{id:"",name:"",education:"",career:"",isStar:"",picPath:"",status:"",subjectId:"",sort:""},formLabelWidth:"120px"}},methods:{gotoMember(){this.$router.push("/member_manage")},gotoTeacher(){this.$router.push("/teacher_manage")},gotoLesson(){this.$router.push("/lesson_manage")},gotoArticle(){this.$router.push("/article_manage")},gotoQA(){this.$router.push("/qa_manage")},gotoNotice(){this.$router.push("/notice_manage")},gotoHome(){this.$router.push("/home")},handleSizeChange(e){this.pageSize=e,this.currentPage=1,console.log(`每页 ${e} 条`)},handleCurrentChange(e){this.currentPage=e,console.log(`当前页: ${e}`)},handleOpen(e,t){console.log(e,t)},handleClose(e,t){console.log(e,t)},handleClick(e){console.log(e),this.form=e,this.dialogFormVisible=!0},addTeacher(){this.addNewVisible=!0},deleteMember(e){console.log(e),this.$confirm("是否确认删除该讲师?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((()=>{console.log(e.id),this.$axios.get("/teacher/removeTeacher",{params:{teacherId:e.id}}).then((()=>{this.$message({type:"success",message:"删除成功"}),this.reload()}))})).catch((()=>{this.$message({type:"info",message:"已取消删除"})}))},changeUsermsg(){this.request.post("/teacher/updateTeacher",this.form).then((e=>{"200"==e.code?this.$message.success(e.message):this.$message.error(e.message)})),this.reload()},addTeachermsg(){this.request.post("/teacher/addTeacher",this.newform).then((e=>{"200"==e.code?this.$message.success(e.message):this.$message.error(e.message)})),this.reload()},fetchData(){this.$axios.get("/teacher/findAll").then((e=>{this.tableData=e.data,this.totalCount=e.data.length}),(e=>{console.log("error"),alert("请求失败")}))}}},ai=si,ii=(0,n.Z)(ai,ei,ti,!1,null,null,null),ri=ii.exports,oi=function(){var e=this,t=e._self._c;return t("div",{staticClass:"homeBox"},[t("el-container",{staticStyle:{height:"100%",border:"1px solid #eee"}},[t("el-aside",{staticStyle:{"background-color":"rgb(238, 241, 246)"},attrs:{width:"200px"}},[t("el-menu",{staticClass:"el-menu-vertical-demo",attrs:{"default-active":"6"}},[t("el-menu-item",{attrs:{index:"1"},on:{click:e.gotoMember}},[t("span",{attrs:{slot:"title"},slot:"title"},[e._v("用户管理")])]),t("el-menu-item",{attrs:{index:"2"},on:{click:e.gotoTeacher}},[t("span",{attrs:{slot:"title"},slot:"title"},[e._v("讲师管理")])]),t("el-menu-item",{attrs:{index:"3"},on:{click:e.gotoLesson}},[t("span",{attrs:{slot:"title"},slot:"title"},[e._v("课程管理")])]),t("el-menu-item",{attrs:{index:"4"},on:{click:e.gotoArticle}},[t("span",{attrs:{slot:"title"},slot:"title"},[e._v("文章管理")])]),t("el-menu-item",{attrs:{index:"5"},on:{click:e.gotoQA}},[t("span",{attrs:{slot:"title"},slot:"title"},[e._v("问答管理")])]),t("el-menu-item",{attrs:{index:"6"},on:{click:e.gotoNotice}},[t("span",{attrs:{slot:"title"},slot:"title"},[e._v("通知管理")])]),t("el-menu-item",{attrs:{index:"7"},on:{click:e.gotoHome}},[t("span",{attrs:{slot:"title"},slot:"title"},[e._v("退出")])])],1)],1),t("el-container",[t("el-header",{staticStyle:{"text-align":"left","font-size":"25px"}},[t("span",[e._v("管理员")])]),t("el-main",[t("el-form",{ref:"ruleForm",staticClass:"demo-ruleForm",attrs:{model:e.ruleForm,rules:e.rules,"label-width":"100px"}},[t("el-form-item",{attrs:{label:"用户类型",prop:"type"}},[t("el-select",{attrs:{placeholder:"请选择用户类型"},model:{value:e.ruleForm.type,callback:function(t){e.$set(e.ruleForm,"type",t)},expression:"ruleForm.type"}},[t("el-option",{attrs:{label:"全体用户",value:"全体用户"}}),e._l(e.users,(function(e){return t("el-option",{key:e.userId,attrs:{label:e.userName,value:e.userId}})}))],2)],1),t("el-form-item",{attrs:{label:"消息内容",prop:"content"}},[t("el-input",{attrs:{type:"textarea",autosize:{minRows:8}},model:{value:e.ruleForm.content,callback:function(t){e.$set(e.ruleForm,"content",t)},expression:"ruleForm.content"}})],1),t("el-form-item",[t("el-button",{attrs:{type:"primary"},on:{click:e.submitForm}},[e._v("发送")]),t("el-button",{on:{click:e.resetForm}},[e._v("重置")])],1)],1)],1)],1)],1)],1)},li=[],ni={activated:function(){this.getCase()},data(){return{ruleForm:{type:"",content:""},msgsystem:{content:"",acceptId:""},users:{userId:"",userName:"",showName:"",mobile:"",email:"",lastSystemTime:"",isAvailable:"",password:"",sex:"",age:"",createTime:"",piclmg:"",msgNum:"",sysMsgNum:""},rules:{region:[{required:!0,message:"请选择用户类型",trigger:"change"}],desc:[{required:!0,message:"请填写消息内容",trigger:"blur"}]}}},methods:{gotoMember(){this.$router.push("/member_manage")},gotoTeacher(){this.$router.push("/teacher_manage")},gotoLesson(){this.$router.push("/lesson_manage")},gotoArticle(){this.$router.push("/article_manage")},gotoQA(){this.$router.push("/qa_manage")},gotoNotice(){this.$router.push("/notice_manage")},gotoHome(){this.$router.push("/home")},submitForm(){"全体用户"==this.ruleForm.type?this.request.post("/msgsystem/sendAllMsg",this.ruleForm.content).then((e=>{"200"==e.code?this.$message.success("发送成功"):this.$message.error("发送失败")})):(this.msgsystem.content=this.ruleForm.content,this.msgsystem.acceptId=this.ruleForm.type,this.request.post("/msgsystem/add",this.msgsystem).then((e=>{"200"==e.code?this.$message.success("发送成功"):this.$message.error("发送失败")}))),this.resetForm()},resetForm(){this.ruleForm.type="",this.ruleForm.content=""}},mounted(){this.request.get("/user").then((e=>{this.users=e}))}},ci=ni,ui=(0,n.Z)(ci,oi,li,!1,null,null,null),di=ui.exports,mi=function(){var e=this,t=e._self._c;return t("div",{staticClass:"homeBox"},[t("el-container",{staticStyle:{height:"100%",border:"1px solid #eee"}},[t("el-aside",{staticStyle:{"background-color":"rgb(238, 241, 246)"},attrs:{width:"200px"}},[t("el-menu",{staticClass:"el-menu-vertical-demo",attrs:{"default-active":"4"},on:{open:e.handleOpen,close:e.handleClose}},[t("el-menu-item",{attrs:{index:"1"},on:{click:e.gotoMember}},[t("span",{attrs:{slot:"title"},slot:"title"},[e._v("用户管理")])]),t("el-menu-item",{attrs:{index:"2"},on:{click:e.gotoTeacher}},[t("span",{attrs:{slot:"title"},slot:"title"},[e._v("讲师管理")])]),t("el-menu-item",{attrs:{index:"3"},on:{click:e.gotoLesson}},[t("span",{attrs:{slot:"title"},slot:"title"},[e._v("课程管理")])]),t("el-menu-item",{attrs:{index:"4"},on:{click:e.gotoArticle}},[t("span",{attrs:{slot:"title"},slot:"title"},[e._v("文章管理")])]),t("el-menu-item",{attrs:{index:"5"},on:{click:e.gotoQA}},[t("span",{attrs:{slot:"title"},slot:"title"},[e._v("问答管理")])]),t("el-menu-item",{attrs:{index:"6"},on:{click:e.gotoNotice}},[t("span",{attrs:{slot:"title"},slot:"title"},[e._v("通知管理")])])],1)],1),t("el-container",[t("el-header",{staticStyle:{"text-align":"left","font-size":"25px"}},[t("span",[e._v("管理员")])]),t("el-main",[t("el-form",{ref:"form",attrs:{model:e.form,"label-width":"80px",enctype:"multipart/form-data"}},[t("el-row",[t("el-col",{attrs:{span:10}},[t("el-form-item",{attrs:{label:"文章标题",prop:"title"}},[t("el-input",{model:{value:e.form.title,callback:function(t){e.$set(e.form,"title",t)},expression:"form.title"}})],1)],1)],1),t("el-row",[t("el-col",{attrs:{span:10}},[t("el-form-item",{attrs:{label:"关键词",prop:"keyWord"}},[t("el-input",{model:{value:e.form.keyWord,callback:function(t){e.$set(e.form,"keyWord",t)},expression:"form.keyWord"}})],1)],1),t("el-col",{attrs:{span:10}},[t("el-form-item",{attrs:{label:"文章作者",prop:"author"}},[t("el-input",{model:{value:e.form.author,callback:function(t){e.$set(e.form,"author",t)},expression:"form.author"}})],1)],1)],1),t("el-row",[t("el-form-item",{attrs:{label:"文章来源",prop:"source"}},[t("el-input",{model:{value:e.form.source,callback:function(t){e.$set(e.form,"source",t)},expression:"form.source"}})],1)],1),t("el-form-item",{attrs:{label:"文章类型",prop:"articleType"}}),t("mavon-editor",{ref:"md",attrs:{ishljs:!0},on:{imgAdd:e.imgAdd},model:{value:e.form.summary,callback:function(t){e.$set(e.form,"summary",t)},expression:"form.summary"}}),t("el-form-item"),t("el-form-item",[t("el-button",{attrs:{type:"primary"},on:{click:e.onSubmit}},[e._v("发布文章")]),t("el-button",{on:{click:function(t){return e.resetForm("form")}}},[e._v("重置")])],1)],1)],1)],1)],1)],1)},hi=[],pi={activated:function(){this.getCase()},data(){return{form:{aritcleId:"",title:"",summary:"",keyWord:"",imageUrl:"",source:"",author:"",articleType:""}}},methods:{gotoMember(){this.$router.push("/member_manage")},gotoTeacher(){this.$router.push("/teacher_manage")},gotoLesson(){this.$router.push("/lesson_manage")},gotoArticle(){this.$router.push("/article_manage")},gotoQA(){this.$router.push("/qa_manage")},gotoNotice(){this.$router.push("/notice_manage")},handleOpen(e,t){console.log(e,t)},handleClose(e,t){console.log(e,t)},onSubmit(){this.request.post("/article",this.form).then((e=>{"200"==e.code?this.$message.success(e.message):this.$message.error(e.message)})),this.reload(),this.$refs[formName].validate((e=>{if(!e)return console.log("error submit!!"),!1;alert("发布成功!")})),this.resetForm(formName)},resetForm(e){this.$refs[e].resetFields()},imgAdd(e,t){let s=this.$refs.md,a=new FormData;a.append("file",t),this.$axios({url:"/file/upload?filetype=picture",method:"post",params:{file:a},headers:{"Content-Type":"multipart/form-data"}}).then((t=>{s.$img2Url(e,t.data)}))}}},gi=pi,fi=(0,n.Z)(gi,mi,hi,!1,null,null,null),vi=fi.exports,bi=function(){var e=this,t=e._self._c;return t("div",{staticClass:"homeBox"},[t("el-container",{staticStyle:{height:"100%",border:"1px solid #eee"}},[t("el-aside",{staticStyle:{"background-color":"rgb(238, 241, 246)"},attrs:{width:"200px"}},[t("el-menu",{staticClass:"el-menu-vertical-demo",attrs:{"default-active":"3"},on:{open:e.handleOpen,close:e.handleClose}},[t("el-menu-item",{attrs:{index:"1"},on:{click:e.gotoMember}},[t("span",{attrs:{slot:"title"},slot:"title"},[e._v("用户管理")])]),t("el-menu-item",{attrs:{index:"2"},on:{click:e.gotoTeacher}},[t("span",{attrs:{slot:"title"},slot:"title"},[e._v("讲师管理")])]),t("el-menu-item",{attrs:{index:"3"},on:{click:e.gotoLesson}},[t("span",{attrs:{slot:"title"},slot:"title"},[e._v("课程管理")])]),t("el-menu-item",{attrs:{index:"4"},on:{click:e.gotoArticle}},[t("span",{attrs:{slot:"title"},slot:"title"},[e._v("文章管理")])]),t("el-menu-item",{attrs:{index:"5"},on:{click:e.gotoQA}},[t("span",{attrs:{slot:"title"},slot:"title"},[e._v("问答管理")])]),t("el-menu-item",{attrs:{index:"6"},on:{click:e.gotoNotice}},[t("span",{attrs:{slot:"title"},slot:"title"},[e._v("通知管理")])])],1)],1),t("el-container",[t("el-header",{staticStyle:{"text-align":"left","font-size":"25px"}},[t("span",[e._v("管理员")])]),t("el-main",[t("el-form",{ref:"form",attrs:{model:e.form,"label-width":"100px"}},[t("el-row",[t("el-col",{attrs:{span:"10"}},[t("el-form-item",{attrs:{label:"老师ID",prop:"teacherId"}},[t("el-input",{model:{value:e.form.teacherId,callback:function(t){e.$set(e.form,"teacherId",t)},expression:"form.teacherId"}})],1)],1)],1),t("el-row",[t("el-col",{attrs:{span:"10"}},[t("el-form-item",{attrs:{label:"课程名称",prop:"courseName"}},[t("el-input",{model:{value:e.form.courseName,callback:function(t){e.$set(e.form,"courseName",t)},expression:"form.courseName"}})],1)],1)],1),t("el-row",[t("el-col",{attrs:{span:"10"}},[t("el-form-item",{attrs:{label:"简介",prop:"title"}},[t("el-input",{model:{value:e.form.title,callback:function(t){e.$set(e.form,"title",t)},expression:"form.title"}})],1)],1)],1),t("el-form-item",{attrs:{label:"类型",prop:"type"}},[t("el-select",{attrs:{placeholder:"请选择文章类型"},model:{value:e.form.type,callback:function(t){e.$set(e.form,"type",t)},expression:"form.type"}},[t("el-option",{attrs:{label:"美女",value:"shanghai"}}),t("el-option",{attrs:{label:"高中生",value:"beijing"}})],1)],1),t("el-row",[t("el-col",{attrs:{span:"10"}},[t("el-form-item",{attrs:{label:"封面",prop:"logo"}},[t("el-avatar",{attrs:{shape:"square",size:60,src:e.form.logo}}),t("el-link",{staticStyle:{margin:"0 30px"},attrs:{underline:!1,type:"primary"},on:{click:e.changeAvatar}},[e._v("修改 ")])],1)],1)],1),t("el-dialog",{attrs:{visible:e.avatar,"append-to-body":"","close-on-click-modal":!1,"lock-scroll":"",top:"25vh",center:"",width:"max-content","modal-append-to-body":""},on:{"update:visible":function(t){e.avatar=t}}},[t("el-upload",{staticClass:"avatar-uploader",attrs:{action:"http://localhost:8081/file/upload",drag:!0,"show-file-list":!1,data:{filetype:"picture"},"on-success":e.handleAvatarSuccess}},[e.form.logo?t("img",{staticClass:"avatar",attrs:{src:e.form.logo}}):t("i",{staticClass:"el-icon-plus avatar-uploader-icon"})])],1),t("el-row",[t("el-col",{attrs:{span:"10"}},[t("el-form-item",{attrs:{label:"视频名称",prop:"name"}},[t("el-input",{model:{value:e.video.name,callback:function(t){e.$set(e.video,"name",t)},expression:"video.name"}})],1),t("el-form-item",{attrs:{label:"视频长度",prop:"time"}},[t("el-input",{model:{value:e.video.time,callback:function(t){e.$set(e.video,"time",t)},expression:"video.time"}})],1)],1)],1),t("el-form-item",{attrs:{label:"上传视频"}},[t("div",{staticClass:"img__con"},[t("el-upload",{staticClass:"avatar-uploader",attrs:{action:"http://localhost:8081/file/upload",data:{filetype:"video"},"show-file-list":!1,"on-success":e.handlevideoSuccess,"on-progress":e.uploadVideoProcess}},[e.video.videoLink?t("video",{key:e.menuKey,attrs:{width:"100%",controls:"controls"}},[t("source",{attrs:{src:e.video.videoLink,type:"video/mp4"}})]):t("i",{staticClass:"el-icon-plus avatar-uploader-icon"}),1==e.videoFlag?t("el-progress",{staticStyle:{"margin-top":"30px"},attrs:{type:"line",percentage:e.videoUploadPercent}}):e._e()],1)],1)]),t("el-form-item"),t("el-form-item",[t("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.onSubmit()}}},[e._v("上传课程")]),t("el-button",{on:{click:function(t){return e.resetForm()}}},[e._v("重置")])],1)],1)],1)],1)],1)],1)},yi=[],Ci=function(){var e=this,t=e._self._c;return t("div",{staticClass:"upload-box"},[t("div",{staticClass:"avatar-uploader-box"},[e._l(e.videoList,(function(s,a){return t("div",{key:a,staticClass:"video-preview"},[s.videoLink?t("video",{staticClass:"avatar",attrs:{src:`${e.videoBaseUrl}${s.videoLink}`},on:{mouseover:function(e){e.stopPropagation(),s.isShowPopup=!0}}},[e._v(" 您的浏览器不支持视频播放 ")]):t("video",{staticClass:"avatar",attrs:{src:s.url},on:{mouseover:function(e){e.stopPropagation(),s.isShowPopup=!0}}},[e._v(" 您的浏览器不支持视频播放 ")]),t("div",{directives:[{name:"show",rawName:"v-show",value:(s.videoLink||s.url)&&s.isShowPopup,expression:"(item.videoLink || item.url) && item.isShowPopup"}],staticClass:"avatar-uploader-popup",on:{mouseleave:function(e){s.isShowPopup=!1}}},[t("i",{staticClass:"el-icon-zoom-in",on:{click:function(t){return e.previewVideo(s)}}}),t("i",{staticClass:"el-icon-delete",on:{click:function(t){return e.deleteVideo(a)}}})])])})),t("el-upload",{directives:[{name:"show",rawName:"v-show",value:e.uploadShow,expression:"uploadShow"}],ref:"avatarUploader",staticClass:"avatar-uploader",attrs:{action:e.actionUrl,"auto-upload":!1,"on-change":e.handleAvatarChange,"show-file-list":!1}},[t("span",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],staticStyle:{display:"block"},attrs:{"element-loading-background":"rgba(0, 0, 0, 0.8)","element-loading-spinner":"el-icon-loading","element-loading-text":"上传中"}},[t("i",{staticClass:"el-icon-plus avatar-uploader-icon"})])]),t("div",{staticClass:"upload-tip"},[e._t("default")],2)],2),t("el-dialog",{attrs:{visible:e.dialogVisible,"append-to-body":"",center:"",title:"视频查看","before-close":e.handleClose},on:{"update:visible":function(t){e.dialogVisible=t}}},[t("video",{ref:"video",attrs:{src:e.videoSrc,controls:"",alt:"",width:"100%"}},[e._v("您的浏览器不支持视频播放")])])],1)},_i=[],$i={name:"UploadVideo",components:{},props:{videos:{type:Array,default:function(){return[]}},numLimit:{type:Number,default:1},sizeLimit:{type:Number,default:50},videoBaseUrl:{type:String,required:!0}},data(){return{loading:!1,dialogVisible:!1,videoList:[],videoSrc:"",actionUrl:""}},computed:{uploadShow(){return this.videos.length<this.numLimit}},watch:{videos:{handler(){const e=Array.isArray(this.videos);e&&this.videos.length>0?(this.videos.map((e=>{e.isShowPopup=!1})),this.videoList=JSON.parse(JSON.stringify(this.videos))):this.videoList=[]},deep:!0,immediate:!0}},created(){},methods:{beforeAvatarUpload(e){return new Promise(((t,s)=>-1==["video/mp4","video/ogg","video/flv","video/avi","video/wmv","video/rmvb","video/mov"].indexOf(e.raw.type)?s("请上传正确的视频格式!"):e.size/1024/1024>this.sizeLimit?s(`视频大小不能超过${this.sizeLimit}M!`):this.videoList.length===this.numLimit?s(`最多上传${this.numLimit}个视频`):void t("符合表单规则")))},async handleAvatarChange(e,t){try{await this.beforeAvatarUpload(e),this.uploadImgApi(e)}catch(s){this.$message.warning(JSON.stringify(s))}},uploadImgApi(e){console.log(e,"upload**");const t=URL.createObjectURL(e.raw);this.videoList.push({videoFile:e,url:t,isShowPopup:!1}),this.$emit("change",this.videoList)},previewVideo(e){e.videoLink?this.videoSrc=`${this.videoBaseUrl}${e.videoLink}`:this.videoSrc=e.url,this.dialogVisible=!0},deleteVideo(e){this.$emit("delete",e)},handleClose(){const e=document.getElementsByTagName("video")[1];e.paused||(e.currentTime=0,e.pause()),this.dialogVisible=!1}}},wi=$i,xi=(0,n.Z)(wi,Ci,_i,!1,null,null,null),ki=xi.exports,Si={components:{UploadVideo:ki},activated:function(){this.getCase()},data(){return{menuKey:1,avatar:!1,videoFlag:!1,videoUploadPercent:0,form:{courseId:"",teacherId:"",courseName:"",isAvailable:1,title:"",logo:"",type:""},video:{name:"",time:"",videoLink:"",courseId:"",courseRank:1}}},methods:{gotoMember(){this.$router.push("/member_manage")},gotoTeacher(){this.$router.push("/teacher_manage")},gotoLesson(){this.$router.push("/lesson_manage")},gotoArticle(){this.$router.push("/article_manage")},gotoQA(){this.$router.push("/qa_manage")},gotoNotice(){this.$router.push("/notice_manage")},onSubmit(){this.request.post("/course/add",this.form).then((e=>{"200"==e.code?(this.video.courseId=e.data,this.request.post("/coursevideo/save",this.video),this.$message.success("上传成功"),this.resetForm()):this.$message.error("上传失败")}))},resetForm(){let e=this.video.videoLink;this.video.courseId="",this.video.videoLink="",this.request.get("/file/removeFile",{params:{url:this.form.logo}}).then((e=>{})),this.request.get("/file/removeFile",{params:{url:e}}).then((e=>{})),this.form.courseId="",this.form.courseName="",this.form.title="",this.form.logo="",this.form.teacherId="",this.form.type=""},changeAvatar(){this.avatar=!0},handleAvatarSuccess(e,t){this.form.logo=e},handlevideoSuccess(e,t){this.videoFlag=!1,this.videoUploadPercent=0,++this.menuKey,this.video.videoLink=e},uploadVideoProcess(e,t,s){this.videoFlag=!0,this.videoUploadPercent=parseInt(t.percentage)}}},Ii=Si,Pi=(0,n.Z)(Ii,bi,yi,!1,null,"0e6e48ac",null),Ti=Pi.exports,zi=function(){var e=this,t=e._self._c;return t("div",{attrs:{id:"main"}},[t("div",{staticClass:"btn"},[t("el-button",{attrs:{type:"primary",round:""},on:{click:e.returnLesson}},[e._v("返回")])],1),t("course-main-layout")],1)},Ni=[],qi=function(){var e=this,t=e._self._c;return t("div",{staticClass:"main"},[t("el-col",{attrs:{span:15,offset:1}},[t("play-header"),t("play-window"),t("play-window-footer")],1),t("el-col",{staticStyle:{overflow:"visible"},attrs:{span:7,offset:1}},[t("play-teacher-header"),t("play-list")],1)],1)},Li=[],Ai=function(){var e=this,t=e._self._c;return t("div",{staticClass:"play-title"},[t("div",[t("span",{staticStyle:{"font-size":"large"}},[e._v(e._s(e.course.courseName))]),t("el-button",{staticStyle:{float:"right"},attrs:{type:"primary",round:""},on:{click:e.changeName}},[e._v("修改标题")]),t("el-dialog",{attrs:{title:"修改课程名称",visible:e.dialogFormVisible,"append-to-body":""},on:{"update:visible":function(t){e.dialogFormVisible=t}}},[t("el-form",{ref:"form",attrs:{model:e.form,"label-width":"100px"}},[t("el-form-item",{attrs:{label:"课程名称",prop:"courseName"}},[t("el-input",{model:{value:e.form.courseName,callback:function(t){e.$set(e.form,"courseName",t)},expression:"form.courseName"}})],1),t("el-form-item",[t("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.onSubmit("form")}}},[e._v("确认")]),t("el-button",{on:{click:function(t){e.dialogFormVisible=!1}}},[e._v("取消")])],1)],1)],1)],1),t("div",{staticClass:"course-info",staticStyle:{"margin-top":"10px"}},[t("div",{staticStyle:{"margin-left":"20px","margin-right":"20px"}},[t("i",{staticClass:"el-icon-video-play"}),e._v(" "+e._s(e.course.pageViewcount)+" ")]),t("div",{staticStyle:{"margin-right":"20px"}},[t("i",{staticClass:"el-icon-chat-dot-square"}),e._v(" "+e._s(e.course.commentNum)+" ")]),t("div",{staticStyle:{"margin-right":"20px"}},[t("i",{staticClass:"el-icon-time"}),e._v(" "+e._s(e.course.addTime.split("T")[0])+" "+e._s(e.course.addTime.split("T")[1])+" ")])])])},Oi=[],Fi={name:"PlayHeader",data(){return{course:{},dialogFormVisible:!1,form:{courseName:""}}},mounted(){this.$bus.$on("courseChanged1",(e=>{this.course=e}))},beforeDestroy(){this.$bus.$off("courseChanged1")},methods:{changeName(){this.dialogFormVisible=!0},onSubmit(e){this.dialogFormVisible=!1,this.course.courseName=this.form.courseName,this.request.post("/course/update",this.course).then((e=>{"200"==e.code?(this.$message.success("更新成功"),this.form.courseName=""):this.$message.error("更新失败")}))}}},Ui=Fi,Di=(0,n.Z)(Ui,Ai,Oi,!1,null,"1bef57fe",null),Ri=Di.exports,Mi=function(){var e=this,t=e._self._c;return t("div",{staticClass:"teacher-header",on:{click:e.openTeacher}},[t("div",{staticClass:"large-avatar"},[t("a",{attrs:{href:"#"}},[t("el-avatar",{attrs:{size:60,src:e.teacher.picPath}},[""==e.teacher.picPath||null==e.teacher.picPath?t("span",[e._v(e._s(e.teacher.name))]):e._e()])],1)]),t("div",[t("div",{staticStyle:{"font-weight":"lighter",margin:"20px 0 5px  0"}},[e._v(" "+e._s(e.teacher.name)+"   "),t("el-tag",{attrs:{type:"warning",size:"mini"}},[e._v(e._s(e.teacher.education))])],1),t("div",{staticStyle:{"font-size":"x-small",color:"#99a9bf"}},[e._v(" "+e._s(e.teacher.career)+" ")])])])},ji=[],Vi={name:"PlayTeacherHeader",data(){return{teacher:{},course:{}}},watch:{course(e){let t=this.$axios({url:"/teacher/id",method:"get",params:{id:e.teacherId}});t.then((e=>{this.teacher=e.data})).catch((e=>{this.$message.error("你的网络迷路了")}))}},methods:{openTeacher(){this.$router.push({name:"teacherPage",params:{teacherId:this.teacher.id}})}},mounted(){this.$bus.$on("courseChanged1",(e=>{this.course=e}))},beforeDestroy(){this.$bus.$off("courseChanged1")}},Zi=Vi,Wi=(0,n.Z)(Zi,Mi,ji,!1,null,"2531dcac",null),Bi=Wi.exports,Qi=function(){var e=this,t=e._self._c;return t("div",{staticClass:"play-window"},[t("video-player",{ref:"videoPlayer",staticClass:"video-player vjs-custom-skin",attrs:{playsinline:!0,options:e.playerOptions},on:{canplaythrough:e.onCanplay,ended:e.onPlayEnd}})],1)},Hi=[],Ki={name:"PlayWindow",data(){return{autoP:!0,playerOptions:{playbackRates:[.5,1,1.5,2],autoplay:!0,muted:!1,loop:!1,preload:"auto",language:"zh-CN",aspectRatio:"8:5",fluid:!0,sources:[],notSupportedMessage:"此视频暂无法播放，请稍后再试",controlBar:{timeDivider:!0,durationDisplay:!0,remainingTimeDisplay:!1,fullscreenToggle:!0}}}},methods:{onPlayEnd(){this.$bus.$emit("playEnd1")},onCanplay(){this.autoP||this.$refs.videoPlayer.player.pause()}},mounted(){this.$bus.$on("chapterChanged1",((e,t,s)=>{this.playerOptions.sources[0]={src:e,type:"video/mp4"},this.autoP=!0,void 0!==s&&(this.autoP=!1),this.$refs.videoPlayer.player.src(e)}))},beforeDestroy(){this.$bus.$off("chapterChanged1")}},Ei=Ki,Ji=(0,n.Z)(Ei,Qi,Hi,!1,null,"6ae05be7",null),Gi=Ji.exports,Xi=function(){var e=this,t=e._self._c;return t("div",{staticClass:"play-list"},[t("div",{staticClass:"list-title"},[t("div",[e._v("课程选集"),t("span",{staticStyle:{"font-size":"x-small",color:"#9499A0"}},[e._v(" ("+e._s(e.curChapter)+"/"+e._s(e.chapters.length)+") ")])]),t("div",[t("span",{staticStyle:{color:"#9499A0"}},[e._v(" 自动连播 ")]),t("el-switch",{attrs:{"active-color":"#13ce66","inactive-color":"#9499A0"},model:{value:e.autoPlayNext,callback:function(t){e.autoPlayNext=t},expression:"autoPlayNext"}})],1)]),t("div",{staticClass:"list-body"},e._l(e.chapters,(function(e){return t("play-list-item",{attrs:{chapter:e}})})),1),t("br"),t("div",{staticClass:"btn"},[t("el-button",{staticStyle:{"margin-right":"20px"},attrs:{type:"primary"},on:{click:e.addNew}},[e._v("增加视频")]),t("el-dialog",{attrs:{title:"增加视频",visible:e.dialogFormVisible,"append-to-body":""},on:{"update:visible":function(t){e.dialogFormVisible=t}}},[t("el-form",{ref:"form",attrs:{model:e.form,"label-width":"100px"}},[t("el-form-item",{attrs:{label:"标题",prop:"title"}},[t("el-input",{model:{value:e.form.name,callback:function(t){e.$set(e.form,"name",t)},expression:"form.name"}})],1),t("el-form-item",{attrs:{label:"时长",prop:"title"}},[t("el-input",{model:{value:e.form.time,callback:function(t){e.$set(e.form,"time",t)},expression:"form.time"}})],1),t("el-form-item",{attrs:{label:"上传视频"}},[t("el-upload",{staticClass:"avatar-uploader",attrs:{action:"http://localhost:8081/file/upload",data:{filetype:"video"},"show-file-list":!1,"on-success":e.handlevideoSuccess,"on-progress":e.uploadVideoProcess}},[e.form.videoLink?t("video",{key:e.menuKey,attrs:{width:"100%",controls:"controls"}},[t("source",{attrs:{src:e.form.videoLink,type:"video/mp4"}})]):t("i",{staticClass:"el-icon-plus avatar-uploader-icon"}),1==e.videoFlag?t("el-progress",{staticStyle:{"margin-top":"30px"},attrs:{type:"line",percentage:e.videoUploadPercent}}):e._e()],1)],1),t("el-form-item",[t("el-button",{attrs:{type:"primary"},on:{click:e.onSubmit}},[e._v("上传视频")]),t("el-button",{on:{click:e.resetForm}},[e._v("取消")])],1)],1)],1),t("el-button",{attrs:{type:"primary"},on:{click:e.deleteOld}},[e._v("删除视频")])],1)])},Yi=[],er=function(){var e=this,t=e._self._c;return t("div",{ref:"pli",staticClass:"li"},[t("div",{staticClass:"play-list-item",on:{click:function(t){return e.chapterChanged(e.chapter.videoLink,e.chapter.courseRank)}}},[t("div",{staticStyle:{"margin-left":"15px"}},[t("span",[e._v("    "+e._s(e.chapter.name)+" ")])]),t("div",{staticStyle:{color:"#9499A0","font-size":"x-small"}},[e._v(e._s(e.chapter.time))])])])},tr=[],sr={name:"PlayListItem",props:{chapter:{}},methods:{chapterChanged(e,t){this.$bus.$emit("chapterChanged1",e,t)}},mounted(){this.$bus.$on("chapterChanged1",((e,t)=>{t===this.chapter.courseRank?this.$refs.pli.className="myActive":this.$refs.pli.className="li"}))},beforeDestroy(){this.$bus.$off("chapterChanged1")}},ar=sr,ir=(0,n.Z)(ar,er,tr,!1,null,"5a6eb1d2",null),rr=ir.exports,or={name:"PlayList",components:{PlayListItem:rr,UploadVideo:ki},data(){return{menuKey:1,videoFlag:!1,videoUploadPercent:0,chapters:[],autoPlayNext:!0,curChapter:1,course:{},form:{name:"",videoLink:"",time:"",courseId:0},dialogFormVisible:!1}},methods:{addNew(){this.dialogFormVisible=!0},onSubmit(){this.form.courseId=this.course.courseId;let e=this.$axios({url:"/coursevideo/addCourseVideo",method:"post",data:this.form});e.then((e=>{"200"==e.data.code?(this.$message.success("增加成功"),this.form.name="",this.form.videoLink="",this.form.time="",this.$bus.$emit("courseChanged1",this.course)):this.$message.error("增加失败")})).catch((e=>{this.$message.error("你的网络迷路了")})),this.resetForm()},handlevideoSuccess(e,t){this.videoFlag=!1,this.videoUploadPercent=0,++this.menuKey,this.form.videoLink=e},uploadVideoProcess(e,t,s){this.videoFlag=!0,this.videoUploadPercent=parseInt(t.percentage)},resetForm(){this.form.courseId="",this.form.name="",this.form.time="",this.form.videoLink="",this.dialogFormVisible=!1},deleteOld(){console.log(this.chapters[this.curChapter-1].videoId);let e=this.$axios({url:"/coursevideo/deleteCourseVideo",method:"get",params:{courseVideoId:this.chapters[this.curChapter-1].videoId}});e.then((e=>{e.data?(this.$message.success("删除成功"),this.$bus.$emit("courseChanged1",this.course)):this.$message.error("删除失败")})).catch((e=>{this.$message.error("你的网络迷路了")}))}},mounted(){this.$bus.$on("chapterChanged1",((e,t)=>{this.curChapter=t})),this.$bus.$on("courseChanged1",(e=>{this.course=e;let t=this.$axios({url:"/coursevideo/findbycourseid",method:"get",params:{courseId:this.course.courseId}});t.then((e=>{this.chapters=e.data})).catch((e=>{this.$message.error("你的网络迷路了")})),this.$bus.$emit("chapterChanged1",this.chapters[0].videoLink,1,!1)})),this.$bus.$on("playEnd1",(()=>{this.autoPlayNext&&this.curChapter!==this.chapters.length&&this.$bus.$emit("chapterChanged1",this.chapters[this.curChapter].videoLink,++this.curChapter)}))},beforeDestroy(){this.$bus.$off("courseChanged1"),this.$bus.$off("chapterChanged1"),this.$bus.$off("playEnd1")}},lr=or,nr=(0,n.Z)(lr,Xi,Yi,!1,null,"2617d17c",null),cr=nr.exports,ur=function(){var e=this,t=e._self._c;return t("div",{staticClass:"play-window-footer"},[t("div",{staticClass:"comment-and-info-card"},[t("el-tabs",{model:{value:e.activeName,callback:function(t){e.activeName=t},expression:"activeName"}},[t("el-tab-pane",{attrs:{name:"intro"}},[t("div",{staticClass:"title-tag",attrs:{slot:"label"},slot:"label"},[e._v("课程介绍")]),t("el-form",{attrs:{model:e.form}},[t("el-form-item",{attrs:{prop:"introduce"}},[t("el-input",{attrs:{type:"textarea",autosize:{minRows:10}},model:{value:e.form.introduce,callback:function(t){e.$set(e.form,"introduce",t)},expression:"form.introduce"}})],1),t("el-form-item",{staticClass:"btn"},[t("el-button",{attrs:{type:"primary"},on:{click:e.submitForm}},[e._v("确认修改")]),t("el-button",{on:{click:e.resetForm}},[e._v("取消")])],1)],1)],1),t("el-tab-pane",{attrs:{name:"comment"}},[t("div",{staticClass:"title-tag",attrs:{slot:"label"},slot:"label"},[e._v("用户评论")]),t("course-comment-list")],1)],1)],1)])},dr=[],mr=function(){var e=this,t=e._self._c;return t("div",{staticClass:"comment-list"},[t("div",[0==e.comments.length?t("h4",[e._v("暂无评论")]):e._e(),0!=e.comments.length?t("h4",[e._v("好评率："+e._s(Math.round(e.goodReview/e.comments.length*100))+"%")]):e._e()]),t("div",{staticClass:"comment-selector"},[t("el-button",{staticClass:"selector-tag",staticStyle:{"margin-left":"0"},attrs:{plain:"all"!==e.filterMethod,type:"primary"},on:{click:function(t){e.filterMethod="all"}}},[e._v("全部评论("+e._s(e.comments.length)+") ")]),t("el-button",{staticClass:"selector-tag",attrs:{plain:"good"!==e.filterMethod,type:"primary",plain:""},on:{click:function(t){e.filterMethod="good"}}},[e._v("好评("+e._s(e.goodReview)+") ")]),t("el-button",{staticClass:"selector-tag",attrs:{plain:"medium"!==e.filterMethod,type:"primary",plain:""},on:{click:function(t){e.filterMethod="medium"}}},[e._v("中评("+e._s(e.mediumReview)+") ")]),t("el-button",{staticClass:"selector-tag",attrs:{plain:"bad"!==e.filterMethod,type:"primary",plain:""},on:{click:function(t){e.filterMethod="bad"}}},[e._v("差评("+e._s(e.badReview)+") ")])],1),t("div",e._l(e.commentsToDisplay.slice((e.curPage-1)*e.pageSize,e.curPage*e.pageSize),(function(e){return t("comment",{attrs:{comment:e}})})),1),t("div",{staticClass:"comment-pagination-container"},[t("el-pagination",{attrs:{background:"","hide-on-single-page":"","current-page":e.curPage,"page-size":e.pageSize,total:e.commentsToDisplay.length,layout:"prev, pager, next"},on:{"update:currentPage":function(t){e.curPage=t},"update:current-page":function(t){e.curPage=t}}})],1)])},hr=[],pr=function(){var e=this,t=e._self._c;return t("div",{staticClass:"comment"},[t("div",{staticClass:"comment-header"},[t("div",{staticClass:"comment-avatar"},[t("el-avatar",{attrs:{size:40,src:e.commenter.picImg}},[""==e.commenter.picImg?t("span",[e._v(e._s(e.commenter.name))]):e._e()])],1),t("div",{staticClass:"comment-info"},[t("div",{staticStyle:{"font-size":"16px"}},[e._v(e._s(e.commenter.userName))]),t("div",{staticStyle:{float:"right",display:"inline-block"}},[t("i",{staticClass:"el-icon-delete",on:{click:e.deleteComment}})]),t("div",{staticClass:"time-and-score"},[t("div",{staticStyle:{"margin-right":"10px"}},[e._v(e._s(e.comment.addtime.split("T")[0])+" "+e._s(e.comment.addtime.split("T")[1].split(":")[0])+":"+e._s(e.comment.addtime.split("T")[1].split(":")[1]))]),t("el-rate",{attrs:{disabled:"","text-color":"#ff9900","score-template":"{value}"},model:{value:e.comment.praiseCount,callback:function(t){e.$set(e.comment,"praiseCount",t)},expression:"comment.praiseCount"}})],1)])]),t("div",{staticClass:"comment-content"},[t("p",{staticStyle:{width:"100%"}},[e._v(" "+e._s(e.comment.content)+" ")])])])},gr=[],fr={name:"Comment",data(){return{commenter:{},myComment:this.comment,course:{}}},props:{comment:{}},watch:{myComment:{deep:!0,immediate:!0,handler:function(e){this.refreshCommenter(e.commenterId)}}},methods:{refreshCommenter(e){let t=this.$axios({url:"/user/findOne",method:"get",params:{id:this.myComment.userId}});t.then((e=>{this.commenter=e.data})).catch((e=>{this.$message.error("你的网络迷路了")}))},deleteComment(){this.$alert("你将删除这条评论","提示",{confirmButtonText:"确定",callback:e=>{this.request.get("/comment/delete",{params:{commentId:this.myComment.commentId}}).then((e=>{"200"==e.code?(this.$message.success("删除成功"),this.request.get("/course/getById",{params:{id:this.myComment.totalId}}).then((e=>{this.$bus.$emit("courseChanged1",e)}))):this.$message.error("删除失败")}))}})}}},vr=fr,br=(0,n.Z)(vr,pr,gr,!1,null,"124442d5",null),yr=br.exports,Cr={name:"CourseCommentList",components:{Comment:yr},data(){return{commentable:!0,userComment:"",commentRate:null,course:{},comments:[],user:{},commentsToDisplay:[],filterMethod:"all",goodReview:0,badReview:0,mediumReview:0,curPage:1,pageSize:10}},watch:{filterMethod(e){this.filterComment(e)}},methods:{countReview(){this.goodReview=0,this.badReview=0,this.mediumReview=0,this.comments.forEach((e=>{e.praiseCount>=4?this.goodReview++:e.praiseCount<=2?this.badReview++:this.mediumReview++}))},filterComment(e){this.commentsToDisplay=this.comments,"all"===e||null==e||("bad"===e?this.commentsToDisplay=this.commentsToDisplay.filter((e=>e.praiseCount<=2)):"good"===e?this.commentsToDisplay=this.commentsToDisplay.filter((e=>e.praiseCount>=4)):"medium"===e&&(this.commentsToDisplay=this.commentsToDisplay.filter((e=>e.praiseCount>2&&e.praiseCount<4))))},updateComments(){let e=this.$axios({url:"/comment/showC",method:"get",params:{courseId:this.course.courseId}});e.then((e=>{console.log(e.data);let t=e.data;this.comments=t,this.countReview(),this.filterComment("all")})).catch((e=>{this.$message.error("你的网络迷路了")}))}},mounted(){this.$bus.$on("courseChanged1",(e=>{this.course=e,this.updateComments()}))},beforeDestroy(){this.$bus.$off("courseChanged1")}},_r=Cr,$r=(0,n.Z)(_r,mr,hr,!1,null,"5f31ee36",null),wr=$r.exports,xr={name:"PlayWindowFooter",components:{CourseCommentList:wr},data(){return{course:{},activeName:"comment",form:{introduce:""}}},methods:{submitForm(){this.course.title=this.form.introduce,this.request.post("/course/update",this.course).then((e=>{console.log(e),"200"==e.code?(this.$message.success("修改成功"),this.form.introduce=""):this.$message.error("修改失败")}))},resetForm(){this.form.introduce=this.course.title}},mounted(){this.$bus.$on("courseChanged1",(e=>{this.course=e,this.form.introduce=this.course.title;let t=this.$axios({url:"/records/orCollectedCourse",method:"get",params:{userId:this.user.userId,courseId:this.course.courseId}});t.then((e=>{1==e.data?this.stared=!0:this.stared=!1})).catch((e=>{this.$message.error("你的网络迷路了")}))}))},beforeDestroy(){this.$bus.$off("courseChanged1")}},kr=xr,Sr=(0,n.Z)(kr,ur,dr,!1,null,"0b805ddc",null),Ir=Sr.exports,Pr={name:"CourseMainLayout",components:{PlayHeader:Ri,PlayTeacherHeader:Bi,PlayWindow:Gi,PlayList:cr,PlayWindowFooter:Ir}},Tr=Pr,zr=(0,n.Z)(Tr,qi,Li,!1,null,"34242cf2",null),Nr=zr.exports,qr={name:"Modify_Lesson_Manage",components:{CourseMainLayout:Nr},methods:{returnLesson(){this.$router.push("/lesson_manage")},refreshCourse(){let e=this.$axios({url:"/course/getById",method:"get",params:{id:this.$route.params.courseId}});e.then((e=>{this.$bus.$emit("courseChanged1",e.data)})).catch((e=>{this.$message.error("你的网络迷路了, 课程加载失败!")}))}},mounted(){this.refreshCourse()}},Lr=qr,Ar=(0,n.Z)(Lr,zi,Ni,!1,null,"13a2ee4e",null),Or=Ar.exports,Fr=function(){var e=this,t=e._self._c;return t("div",{attrs:{id:"main"}},[t("div",{staticClass:"btn"},[t("el-button",{attrs:{type:"primary",round:""},on:{click:e.returnAritcle}},[e._v("返回")])],1),t("passage-page")],1)},Ur=[],Dr=function(){var e=this,t=e._self._c;return t("div",{staticStyle:{overflow:"hidden","margin-bottom":"-50px"}},[t("div",{staticClass:"passage-page"},[t("div",{staticClass:"title"},[e._v(e._s(e.passage.title))]),t("div",{staticClass:"time"},[e._v(" "+e._s(e.passage.createTime)+" 修改")]),t("div",{staticClass:"content"},[t("mavon-editor",{staticClass:"md",attrs:{value:e.htmlContent,subfield:e.prop.subfield,defaultOpen:e.prop.defaultOpen,toolbarsFlag:e.prop.toolbarsFlag,editable:e.prop.editable,scrollStyle:e.prop.scrollStyle}})],1),t("div",{staticClass:"footer"},[t("div",[t("el-button",{attrs:{type:"primary",plain:""},on:{click:function(t){return e.handleClick()}}},[e._v("喜欢("+e._s(e.passage.praiseCount)+") ")])],1)]),t("div",[t("div",{staticStyle:{"margin-top":"10px"}},e._l(e.answers,(function(s){return e.update?t("answer",{attrs:{typeM:"PassageComment",obj:s}}):e._e()})),1)])])])},Rr=[],Mr=function(){var e=this,t=e._self._c;return t("div",{staticClass:"answer"},[t("div",{staticStyle:{display:"flex","align-items":"center"}},[e._v("     "),t("span",{staticStyle:{"font-size":"x-small","font-weight":"bold",color:"#4C4444"}},[e._v(e._s(e.user.userName))]),e._v("     "),t("div",{staticStyle:{display:"inline-block","text-align":"right"}},[t("i",{staticClass:"el-icon-delete",on:{click:function(t){return e.deleteComment(e.dataObj)}}})])]),t("div",{staticClass:"content"},[e._v(" "+e._s(e.dataObj.content)+" ")]),t("div",{staticClass:"footer"},["PassageComment"==e.typeM?t("div",[e._v("发布于"+e._s(e.dataObj.addtime.split("T")[0])+" "+e._s(e.dataObj.addtime.split("T")[1].split(":")[0])+":"+e._s(e.dataObj.addtime.split("T")[1].split(":")[1]))]):e._e(),"Answer"==e.typeM?t("div",[e._v("发布于"+e._s(e.dataObj.addTime.split("T")[0])+" "+e._s(e.dataObj.addTime.split("T")[1]))]):e._e(),t("div",[t("el-button",{attrs:{type:"primary",size:"small",plain:!0}},[e._v("赞同("+e._s(e.dataObj.praiseCount)+") ")])],1)])])},jr=[],Vr={inject:["reload"],name:"Answer",props:{obj:{},typeM:{}},data(){return{dataObj:this.obj,type:this.typeM,user:{}}},mounted(){this.getUserName()},methods:{getUserName(){if("PassageComment"===this.type){let e=this.$axios({url:"/user/findOne",method:"get",params:{id:this.dataObj.userId}});e.then((e=>{this.user=e.data})).catch((e=>{this.$message.error("你的网络迷路了")}))}else if("Answer"===this.type){let e=this.$axios({url:"/user/findOne",method:"get",params:{id:this.dataObj.cusId}});e.then((e=>{this.user=e.data})).catch((e=>{this.$message.error("你的网络迷路了")}))}},deleteComment(e){"PassageComment"===this.type?this.$axios.get("/comment/delete",{params:{commentId:e.commentId}}):"Answer"===this.type&&this.$axios.get("/questionscomment/delete",{params:{id:e.id}}),this.reload()}}},Zr=Vr,Wr=(0,n.Z)(Zr,Mr,jr,!1,null,"648bf5f5",null),Br=Wr.exports,Qr=s(3067),Hr=s.n(Qr),Kr={name:"PassagePage",components:{Answer:Br,mavonEditor:Qr.mavonEditor},data(){return{passage:{},answers:[],htmlContent:"",update:!0}},computed:{prop(){let e={subfield:!1,defaultOpen:"preview",editable:!1,toolbarsFlag:!1,scrollStyle:!0};return e}},methods:{refreshComment(e){let t=this.$axios({url:"/comment/showA",method:"get",params:{articleId:e}});t.then((e=>{this.answers=e.data})).catch((e=>{this.$message.error("你的网络迷路了")}))},loadPassage(){let e=this.$route.query.pId,t=this.$axios({url:"/article/getbyid",method:"get",params:{id:e}});t.then((e=>{this.passage=e.data,this.htmlContent=e.data.summary})).catch((e=>{this.$message.error("你的网络迷路了")}))}},mounted(){this.loadPassage(),this.refreshComment(this.$route.query.pId)}},Er=Kr,Jr=(0,n.Z)(Er,Dr,Rr,!1,null,"666efe10",null),Gr=Jr.exports,Xr={name:"Modify_Article_Manage",components:{PassagePage:Gr},methods:{returnAritcle(){this.$router.push("/article_manage")}}},Yr=Xr,eo=(0,n.Z)(Yr,Fr,Ur,!1,null,"73a59b2b",null),to=eo.exports,so=function(){var e=this,t=e._self._c;return t("div",{attrs:{id:"main"}},[t("div",{staticClass:"btn"},[t("el-button",{attrs:{type:"primary",round:""},on:{click:e.returnQA}},[e._v("返回")])],1),t("question-page")],1)},ao=[],io=function(){var e=this,t=e._self._c;return t("div",{staticClass:"questionPage"},[t("div",{staticStyle:{"box-shadow":"0 10px 10px rgba(0, 0, 0, .12)"}},[t("div",{staticClass:"header"},[t("div",{staticClass:"title"},[e._v(e._s(e.question.title))]),t("div",{staticClass:"author"},[e._v(" "+e._s(e.user.userName)+"   ")]),t("div",{staticClass:"content"},[e._v(" "+e._s(e.question.content)+" ")]),t("div",{staticClass:"header-footer"},[t("div",{staticStyle:{color:"#8590A6","font-size":"x-small"}},[t("span",[t("i",{staticClass:"el-icon-s-data"}),e._v(" 被浏览 "+e._s(e.question.browseCount)+" ")]),e._v("      "),t("span",[t("i",{staticClass:"el-icon-chat-square"}),e._v(" "+e._s(e.question.replyCount)+"条回答 ")])])])])]),t("div",{staticClass:"answer-list"},[t("div",{staticClass:"answers"},[t("div",{staticStyle:{width:"95%",margin:"0 auto"}},[t("div",{staticClass:"space-between"},[t("div",{staticStyle:{color:"#121212","font-size":"small","font-weight":"bold"}},[e._v(e._s(e.question.replyCount)+" 个回答")]),t("el-dropdown",[t("div",{staticClass:"sort"},[e._v(" 默认排序 "),t("i",{staticClass:"el-icon-arrow-down"})]),t("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},[t("el-dropdown-item",[e._v("默认排序")])],1)],1)],1),e._l(e.answers,(function(s){return e.update?t("answer",{attrs:{obj:s,typeM:"Answer"}}):e._e()}))],2)])])])},ro=[],oo={name:"QuestionPage",components:{Answer:Br},data(){return{number:10,question:{},answers:[],dialogVisible:!1,answer:"",user:{},update:!0}},methods:{refreshQuestion(e){let t=this.$axios.get(`/questions/id?id=${e}`);t.then((e=>{this.question=e.data,this.getUserName()})).catch((e=>{this.$message.error("你的网络迷路了")}))},refreshComment(e){let t=this.$axios({url:"/questionscomment/detail",method:"get",params:{id:e}});t.then((e=>{this.answers=e.data})).catch((e=>{this.$message.error("你的网络迷路了")}))},getUserName(){let e=this.$axios({url:"/user/findOne",method:"get",params:{id:this.question.cusId}});e.then((e=>{this.user=e.data})).catch((e=>{this.$message.error("你的网络迷路了")}))}},mounted(){this.refreshQuestion(this.$route.query.qId),this.refreshComment(this.$route.query.qId)}},lo=oo,no=(0,n.Z)(lo,io,ro,!1,null,"47c46de0",null),co=no.exports,uo={name:"Modify_Lesson_Manage",components:{QuestionPage:co},methods:{returnQA(){this.$router.push("/qa_manage")}}},mo=uo,ho=(0,n.Z)(mo,so,ao,!1,null,"1e9080d1",null),po=ho.exports,go=function(){var e=this,t=e._self._c;return t("div",{staticClass:"questionPage"},[t("div",{staticStyle:{"box-shadow":"0 10px 10px rgba(0, 0, 0, .12)"}},[t("div",{staticClass:"header"},[t("div",{staticClass:"title"},[e._v(e._s(e.question.title))]),t("div",{staticClass:"author"},[e._v(" "+e._s(e.user.userName)+"   ")]),t("div",{staticClass:"content"},[e._v(" "+e._s(e.question.content)+" ")]),t("div",{staticClass:"header-footer"},[t("el-button",{staticStyle:{width:"100px"},attrs:{size:"medium",type:"primary",plain:!0},on:{click:e.handleClick}},[e._v(" 写回答 ")]),t("div",{staticStyle:{color:"#8590A6","font-size":"x-small"}},[t("span",[t("i",{staticClass:"el-icon-s-data"}),e._v(" 被浏览 "+e._s(e.question.browseCount)+" ")]),e._v("      "),t("span",[t("i",{staticClass:"el-icon-chat-square"}),e._v(" "+e._s(e.question.replyCount)+"条回答 ")])])],1)])]),t("div",{staticClass:"answer-list"},[t("div",{staticClass:"answers"},[t("div",{staticStyle:{width:"95%",margin:"0 auto"}},[t("div",{staticClass:"space-between"},[t("div",{staticStyle:{color:"#121212","font-size":"small","font-weight":"bold"}},[e._v(e._s(e.question.replyCount)+" 个回答")]),t("el-dropdown",[t("div",{staticClass:"sort"},[e._v(" 默认排序 "),t("i",{staticClass:"el-icon-arrow-down"})]),t("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},[t("el-dropdown-item",[e._v("默认排序")])],1)],1)],1),e._l(e.answers,(function(e){return t("answer",{attrs:{obj:e,typeM:"Answer"}})}))],2)])]),t("el-dialog",{attrs:{visible:e.dialogVisible,center:"","show-close":!1,"append-to-body":"","modal-append-to-body":"",width:"30%"},on:{"update:visible":function(t){e.dialogVisible=t}}},[t("el-input",{attrs:{type:"textarea",rows:5,maxlength:"100","show-word-limit":"",placeholder:"请输入你的回答"},model:{value:e.answer,callback:function(t){e.answer=t},expression:"answer"}}),t("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[t("el-button",{staticStyle:{"padding-left":"30px","padding-right":"30px","margin-right":"50px"},attrs:{plain:"",type:"primary"},on:{click:function(t){return e.handleClickFooter("answer")}}},[e._v("回答 ")]),t("el-button",{staticStyle:{"padding-left":"30px","padding-right":"30px"},attrs:{plain:"",type:"info"},on:{click:function(t){return e.handleClickFooter("cancel")}}},[e._v(" 取消 ")])],1)],1)],1)},fo=[],vo=function(){var e=this,t=e._self._c;return t("div",{staticClass:"answer"},[t("div",{staticStyle:{display:"flex","align-items":"center"}},[e._v("     "),t("span",{staticStyle:{"font-size":"x-small","font-weight":"bold",color:"#4C4444"}},[e._v(e._s(e.user.userName))])]),t("div",{staticClass:"content"},[e._v(" "+e._s(e.dataObj.content)+" ")]),t("div",{staticClass:"footer"},["PassageComment"==e.typeM?t("div",[e._v("发布于"+e._s(e.dataObj.addtime.split("T")[0])+" "+e._s(e.dataObj.addtime.split("T")[1].split(":")[0])+":"+e._s(e.dataObj.addtime.split("T")[1].split(":")[1]))]):e._e(),"Answer"==e.typeM?t("div",[e._v("发布于"+e._s(e.dataObj.addTime.split("T")[0])+" "+e._s(e.dataObj.addTime.split("T")[1]))]):e._e(),t("div",[t("el-button",{attrs:{type:"primary",size:"small",plain:!0},on:{click:e.accept}},[e._v(e._s(e.likeC)+"("+e._s(e.dataObj.praiseCount)+") ")])],1)])])},bo=[],yo={inject:["reload"],name:"Answer",props:{obj:{},typeM:{}},data(){return{dataObj:this.obj,likeC:"赞同",type:this.typeM,user:{},isPraise:""}},mounted(){this.getUserName(),this.getPraise()},methods:{getUserName(){if("PassageComment"===this.type){let e=this.$axios({url:"/user/findOne",method:"get",params:{id:this.dataObj.userId}});e.then((e=>{this.user=e.data})).catch((e=>{this.$message.error("你的网络迷路了")}))}else if("Answer"==this.type){let e=this.$axios({url:"/user/findOne",method:"get",params:{id:this.dataObj.cusId}});e.then((e=>{this.user=e.data})).catch((e=>{this.$message.error("你的网络迷路了")}))}},getPraise(){let e=window.localStorage.getItem("user");if(null===e)this.$bus.$emit("OpenLoginDialog");else if(e=JSON.parse(e),"PassageComment"===this.type){let t=this.$axios({url:"/records/orLikedArticleCom",method:"get",params:{userId:e.userId,articleCommentId:this.dataObj.commentId}});t.then((e=>{this.isPraise=e.data,console.log("这是getpraise"+e.data),"1"==this.isPraise?this.likeC="已赞同":"2"==this.isPraise&&(this.likeC="赞同")})).catch((e=>{this.$message.error("你的网络迷路了")}))}else if("Answer"==this.type){let t=this.$axios({url:"/records/orLikedCom",method:"get",params:{userId:e.userId,commentId:this.dataObj.id}});t.then((e=>{this.isPraise=e.data,console.log("这是getpraise"+e.data),"1"==this.isPraise?this.likeC="已赞同":"2"==this.isPraise&&(this.likeC="赞同")})).catch((e=>{this.$message.error("你的网络迷路了")}))}},accept(){let e=window.localStorage.getItem("user");if(null===e)this.$bus.$emit("OpenLoginDialog");else if(e=JSON.parse(e),"PassageComment"===this.type){let t=this.$axios({url:"/records/orLikedArticleCom",method:"get",params:{userId:e.userId,articleCommentId:this.dataObj.commentId}});t.then((t=>{if(this.isPraise=t.data,"2"==this.isPraise){this.$axios({url:"/comment/praise",method:"get",params:{id:this.dataObj.commentId}});let t=this.$axios({url:"/records/addRecordArticleComment",method:"get",params:{userId:e.userId,articleCommentId:this.dataObj.commentId}});t.then((e=>{this.likeC="已赞同",this.dataObj.praiseCount++})).catch((e=>{this.$message.error("你的网络迷路了")}))}else if("1"==this.isPraise){this.$axios({url:"/comment/cancelPrise",method:"get",params:{commentId:this.dataObj.commentId}});let t=this.$axios({url:"/records/reduceRecordArticleComment",method:"get",params:{userId:e.userId,articleCommentId:this.dataObj.commentId}});t.then((e=>{this.likeC="赞同",this.dataObj.praiseCount--})).catch((e=>{this.$message.error("你的网络迷路了")}))}})).catch((e=>{this.$message.error("你的网络迷路了")}))}else if("Answer"===this.type){let t=this.$axios({url:"/records/orLikedCom",method:"get",params:{userId:e.userId,commentId:this.dataObj.id}});t.then((t=>{if(this.isPraise=t.data,console.log("这是点赞里的"+this.isPraise),"2"==this.isPraise){this.$axios({url:"/questionscomment/addPraise",method:"get",params:{id:this.dataObj.id}});let t=this.$axios({url:"/records/addRecordCom",method:"get",params:{userId:e.userId,commentId:this.dataObj.id}});t.then((e=>{this.likeC="已赞同",this.dataObj.praiseCount++})).catch((e=>{this.$message.error("你的网络迷路了")}))}else if("1"==this.isPraise){this.$axios({url:"/questionscomment/reducePraise",method:"get",params:{id:this.dataObj.id}});let t=this.$axios({url:"/records/reduceRecordCom",method:"get",params:{userId:e.userId,commentId:this.dataObj.id}});t.then((e=>{this.likeC="赞同",this.dataObj.praiseCount--})).catch((e=>{this.$message.error("你的网络迷路了")}))}})).catch((e=>{this.$message.error("你的网络迷路了")}))}}}},Co=yo,_o=(0,n.Z)(Co,vo,bo,!1,null,"4c84048a",null),$o=_o.exports,wo={inject:["reload"],name:"QuestionPage",components:{Answer:$o},data(){return{number:10,question:{},answers:[],dialogVisible:!1,answer:"",user:{}}},methods:{handleClickFooter(e){if("cancel"===e);else if("answer"===e){if(this.answer.length<10)return void this.$message.error("回答不能少于10个字");let e=JSON.parse(window.localStorage.getItem("user")),t=this.$axios({url:"/questionscomment",method:"post",data:{content:this.answer,cusId:e.userId,questionId:this.question.id}});t.then((e=>{let t=e.data;t?(this.$message.success("回答成功"),this.refreshComment(this.$route.query.qId)):this.$message.error("你已经回答过")})).catch((e=>{this.$message.error("你的网络迷路了")}))}this.answer="",this.dialogVisible=!1},handleClick(){let e=window.localStorage.getItem("user");null!==e?(this.dialogVisible=!0,console.log("this.dialogVisible = true;")):this.$bus.$emit("OpenLoginDialog")},refreshQuestion(e){let t=this.$axios({url:"/questions/id",method:"get",params:{id:e}});t.then((e=>{this.question=e.data,this.getUserName()})).catch((e=>{this.$message.error("你的网络迷路了")}))},refreshComment(e){let t=this.$axios({url:"/questionscomment/detail",method:"get",params:{id:e}});t.then((e=>{this.answers=e.data})).catch((e=>{this.$message.error("你的网络迷路了")}))},getUserName(){let e=this.$axios({url:"/user/findOne",method:"get",params:{id:this.question.cusId}});e.then((e=>{this.user=e.data})).catch((e=>{this.$message.error("你的网络迷路了")}))}},mounted(){this.refreshQuestion(this.$route.query.qId),this.refreshComment(this.$route.query.qId)}},xo=wo,ko=(0,n.Z)(xo,go,fo,!1,null,"08d5a536",null),So=ko.exports,Io=function(){var e=this,t=e._self._c;return t("div",{staticStyle:{overflow:"hidden","margin-bottom":"-50px"}},[t("div",{staticClass:"passage-page"},[t("div",{staticClass:"title"},[e._v(e._s(e.passage.title))]),t("div",{staticClass:"time"},[e._v(" "+e._s(e.passage.createTime)+" 修改")]),t("div",{staticClass:"content"},[t("mavon-editor",{staticClass:"md",attrs:{value:e.htmlContent,subfield:e.prop.subfield,defaultOpen:e.prop.defaultOpen,toolbarsFlag:e.prop.toolbarsFlag,editable:e.prop.editable,scrollStyle:e.prop.scrollStyle}})],1),t("div",{staticClass:"footer"},[t("div",[t("el-button",{attrs:{type:"primary",plain:""},on:{click:function(t){return e.handleClick()}}},[e._v(e._s(e.likeBtnContent)+"("+e._s(e.passage.praiseCount)+") ")])],1),t("div",[t("el-button",{attrs:{ype:"primary",plain:""},on:{click:e.handleComment}},[e._v("评论文章 ")])],1)]),t("div",[t("div",{staticStyle:{"margin-top":"10px"}},e._l(e.answers,(function(s){return e.update?t("answer",{attrs:{typeM:"PassageComment",obj:s}}):e._e()})),1)])]),t("el-dialog",{attrs:{visible:e.CommentDialogVisible,center:"","show-close":!1,"append-to-body":"","modal-append-to-body":"",width:"30%"},on:{"update:visible":function(t){e.CommentDialogVisible=t}}},[t("el-input",{ref:"cc",attrs:{type:"textarea",rows:5,maxlength:"100","show-word-limit":"",placeholder:"请输入你的评论"},model:{value:e.cc,callback:function(t){e.cc=t},expression:"cc"}}),t("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[t("el-button",{staticStyle:{"padding-left":"30px","padding-right":"30px","margin-right":"50px"},attrs:{plain:"",type:"primary"},on:{click:function(t){return e.handleClickFooter("ask")}}},[e._v("评论 ")]),t("el-button",{staticStyle:{"padding-left":"30px","padding-right":"30px"},attrs:{plain:"",type:"info"},on:{click:function(t){return e.handleClickFooter("cancel")}}},[e._v(" 取消 ")])],1)],1)],1)},Po=[],To={name:"PassagePage",components:{Answer:$o,mavonEditor:Qr.mavonEditor},data(){return{passage:{},answers:[],likeBtnContent:"点赞",CommentDialogVisible:!1,cc:"",isPraise:"",htmlContent:"",update:!0}},computed:{prop(){let e={subfield:!1,defaultOpen:"preview",editable:!1,toolbarsFlag:!1,scrollStyle:!0};return e}},methods:{refreshComment(e){let t=this.$axios({url:"/comment/showA",method:"get",params:{articleId:e}});t.then((e=>{this.answers=e.data})).catch((e=>{this.$message.error("你的网络迷路了")}))},loadPassage(){let e=this.$route.query.pId,t=this.$axios({url:"/article/getbyid",method:"get",params:{id:e}});t.then((t=>{this.passage=t.data,this.htmlContent=t.data.summary;let s=window.localStorage.getItem("user");if(null===s)this.$bus.$emit("OpenLoginDialog");else{s=JSON.parse(s);let t=this.$axios({url:"/records/orLikedArt",method:"get",params:{articleId:e,userId:s.userId}});t.then((e=>{this.isPraise=e.data,console.log("这是getpraise"+e.data),"1"==this.isPraise?this.likeBtnContent="已喜欢":"2"==this.isPraise&&(this.likeBtnContent="喜欢")})).catch((e=>{this.$message.error("你的网络迷路了")}))}})).catch((e=>{this.$message.error("你的网络迷路了")}))},handleClick(){let e=window.localStorage.getItem("user");if(null===e)return void this.$bus.$emit("OpenLoginDialog");e=JSON.parse(e);let t=this.$axios({url:"/records/orLikedArt",method:"get",params:{articleId:this.passage.articleId,userId:e.userId}});t.then((t=>{if(this.isPraise=t.data,"2"==this.isPraise){let t=this.$axios({url:"/records/addRecordArt",method:"get",params:{articleId:this.passage.articleId,userId:e.userId}});t.then((e=>{this.passage.praiseCount++,this.likeBtnContent="已喜欢"})).catch((e=>{this.$message.error("你的网络迷路了")}))}else if("1"==this.isPraise){let t=this.$axios({url:"/records/reduceRecordArt",method:"get",params:{userId:e.userId,articleId:this.passage.articleId}});t.then((e=>{this.passage.praiseCount--,this.likeBtnContent="喜欢"})).catch((e=>{this.$message.error("你的网络迷路了")}))}}))},handleComment(){this.CommentDialogVisible=!0},handleClickFooter(e){let t=window.localStorage.getItem("user");if(null!==t){if(t=JSON.parse(t),"cancel"===e);else if("ask"===e){if(this.cc.length<10)return void this.$message.error("评论不能少于10个字");let e=JSON.parse(window.localStorage.getItem("user")),t=this.$axios({url:"/comment/sendArticle",method:"get",params:{commentContent:this.cc,userId:e.userId,articleId:this.passage.articleId}});t.then((e=>{let t=e.data;t?(this.$message.success("评论成功"),this.refreshComment(this.$route.query.pId),this.update=!1,this.$nextTick((()=>{this.update=!0}))):this.$message.error("请勿重复评论")})).catch((e=>{this.$message.error("你的网络迷路了")}))}this.cc="",this.CommentDialogVisible=!1}else this.$bus.$emit("OpenLoginDialog")}},mounted(){this.loadPassage(),this.refreshComment(this.$route.query.pId)}},zo=To,No=(0,n.Z)(zo,Io,Po,!1,null,"3f22100c",null),qo=No.exports;const Lo=new g.Z({routes:[{path:"/",redirect:"home"},{name:"home",path:"/home",component:re,meta:{title:"欢迎访问在线教育系统!",changeTitle:!0},children:[{name:"personal",path:"/home/personal",component:de,meta:{title:"个人中心",changeTitle:!0},beforeEnter(e,t,s){let i=window.localStorage.getItem("user");null!=i?s():a["default"].prototype.$message.info("请先登录或注册账号")},children:[{path:"/home/personal/pinfo",component:Os,meta:{title:"个人中心",changeTitle:!0}},{path:"/home/personal/history",component:Hs,meta:{title:"个人中心",changeTitle:!0}},{path:"/home/personal/star",component:Ys,meta:{title:"个人中心",changeTitle:!0}},{path:"/home/personal/message",component:va,meta:{title:"个人中心",changeTitle:!0}},{path:"/home/personal/question",component:Ta,meta:{title:"个人中心",changeTitle:!0}}]},{name:"search",path:"/home/search/:select?/:searchKey?",component:Te,meta:{title:"搜索课程",changeTitle:!0}},{name:"recommend",path:"/home/recommend",component:je,meta:{title:"欢迎访问在线教育系统!",changeTitle:!0}},{name:"course",path:"home/course/:courseId?",component:Ht,meta:{title:"课程播放",changeTitle:!0}},{name:"teacher",path:"home/teacher",component:rs,meta:{title:"讲师中心",changeTitle:!0}},{name:"teacherPage",path:"home/teacherPage/:teacherId?",component:ds,meta:{changeTitle:!1}},{name:"qap",path:"home/qap/:select?",component:Ts,meta:{title:"问答和文章",changeTitle:!0}},{name:"questionPage",path:"home/questionPage",component:So,meta:{changeTitle:!1}},{name:"passagePage",path:"home/passagePage",component:qo,meta:{changeTitle:!1}}]},{name:"article_manage",path:"/article_manage",component:Oa,meta:{title:"文章管理",changeTitle:!0}},{name:"lesson_manage",path:"/lesson_manage",component:ja,meta:{title:"课程管理",changeTitle:!0}},{name:"member_manage",path:"/member_manage",component:Ha,meta:{title:"用户管理",changeTitle:!0}},{name:"qa_manage",path:"/qa_manage",component:Ya,meta:{title:"问答管理",changeTitle:!0}},{name:"teacher_manage",path:"/teacher_manage",component:ri,meta:{title:"讲师管理",changeTitle:!0}},{name:"notice_manage",path:"/notice_manage",component:di,meta:{title:"通知管理",changeTitle:!0}},{name:"add_article_manage",path:"/add_article_manage",component:vi,meta:{title:"增加文章",changeTitle:!0}},{name:"add_lesson_manage",path:"/add_lesson_manage",component:Ti,meta:{title:"增加课程",changeTitle:!0}},{name:"modify_lesson_manage",path:"/modify_lesson_manage",component:Or,meta:{title:"课程详情",changeTitle:!0}},{name:"modify_article_manage",path:"/modify_article_manage",component:to,meta:{title:"文章详情",changeTitle:!0}},{name:"modify_qa_manage",path:"/modify_qa_manage",component:po,meta:{title:"问答详情",changeTitle:!0}}]});Lo.afterEach(((e,t)=>{e.meta.changeTitle&&(document.title=e.meta.title)}));var Ao=Lo,Oo=s(4720),Fo=s.n(Oo),Uo=s(6264),Do=s.n(Uo);m().defaults.baseURL="http://120.46.178.233:8081",a["default"].prototype.$axios=m(),a["default"].use(g.Z),a["default"].use(Fo()),a["default"].use(Hr()),s(3869),s(5489),a["default"].use(Do()),a["default"].config.productionTip=!1,a["default"].prototype.request=p,new a["default"]({render:e=>e(u),router:Ao,beforeCreate(){a["default"].prototype.$bus=this}}).$mount("#app")},5817:function(e,t,s){"use strict";e.exports=s.p+"static/img/VCG1_c.b1b8a417.jpg"},4946:function(e,t,s){"use strict";e.exports=s.p+"static/img/VCG2_c.82217057.jpg"},3497:function(e,t,s){"use strict";e.exports=s.p+"static/img/VCG3_c.79ed7340.jpg"},2139:function(e,t,s){"use strict";e.exports=s.p+"static/img/VCG4_c.89e3f20a.jpg"},1296:function(e,t,s){"use strict";e.exports=s.p+"static/img/VCG5_c.2e857fa5.jpg"},331:function(){}},t={};function s(a){var i=t[a];if(void 0!==i)return i.exports;var r=t[a]={exports:{}};return e[a].call(r.exports,r,r.exports,s),r.exports}s.m=e,function(){var e=[];s.O=function(t,a,i,r){if(!a){var o=1/0;for(u=0;u<e.length;u++){a=e[u][0],i=e[u][1],r=e[u][2];for(var l=!0,n=0;n<a.length;n++)(!1&r||o>=r)&&Object.keys(s.O).every((function(e){return s.O[e](a[n])}))?a.splice(n--,1):(l=!1,r<o&&(o=r));if(l){e.splice(u--,1);var c=i();void 0!==c&&(t=c)}}return t}r=r||0;for(var u=e.length;u>0&&e[u-1][2]>r;u--)e[u]=e[u-1];e[u]=[a,i,r]}}(),function(){s.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return s.d(t,{a:t}),t}}(),function(){s.d=function(e,t){for(var a in t)s.o(t,a)&&!s.o(e,a)&&Object.defineProperty(e,a,{enumerable:!0,get:t[a]})}}(),function(){s.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){s.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){s.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}}(),function(){s.p=""}(),function(){var e={143:0};s.O.j=function(t){return 0===e[t]};var t=function(t,a){var i,r,o=a[0],l=a[1],n=a[2],c=0;if(o.some((function(t){return 0!==e[t]}))){for(i in l)s.o(l,i)&&(s.m[i]=l[i]);if(n)var u=n(s)}for(t&&t(a);c<o.length;c++)r=o[c],s.o(e,r)&&e[r]&&e[r][0](),e[r]=0;return s.O(u)},a=self["webpackChunkoes"]=self["webpackChunkoes"]||[];a.forEach(t.bind(null,0)),a.push=t.bind(null,a.push.bind(a))}();var a=s.O(void 0,[998],(function(){return s(48)}));a=s.O(a)})();